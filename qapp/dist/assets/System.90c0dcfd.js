import{al as S}from"./index.a99383f0.js";const g=S({id:"system",state:()=>({isFullscreen:!1,Logo:{title:"M\u7CFB\u7EDF",logo:"",url:"/mfilelist"},videoOptions:{autoPlay:!0,volume:.6,control:!0,loop:!0,muted:!0,controlBtns:["audioTrack","quality","speedRate","volume","setting","pip","pageFullScreen","fullScreen"]},History:[],Playing:{},PlayMode:800,drawerRight:!1,Favorite:[],FileSearchParam:{Page:1,PageSize:14,MovieType:"",SortField:"MTime",SortType:"desc",Keyword:"",OnlyRepeat:!1,showStyle:"post"},SettingInfo:{ControllerHost:"http://127.0.0.1:10081",ImageHost:"http://127.0.0.1:10081",StreamHost:"http://127.0.0.1:10081"},SearchSuggestions:[]}),getters:{getHistory(){return this.History},getFavorite(){return this.Favorite},getSettingInfo(){return this.SettingInfo},getStreamHost(){return this.SettingInfo.StreamHost},getImageHost(){return this.SettingInfo.ImageHost},getControllerHost(){var e;return(e=this.SettingInfo)==null?void 0:e.ControllerHost},getSuggestions(){return this.SearchSuggestions},getSearchParam(){return this.FileSearchParam}},actions:{syncSearchParam(e){const{Page:i,PageSize:t,MovieType:s,SortField:o,SortType:r,Keyword:a,showStyle:h}=e;this.FileSearchParam.Page=i,this.FileSearchParam.PageSize=t,this.FileSearchParam.MovieType=s,this.FileSearchParam.SortField=o,this.FileSearchParam.SortType=r,this.FileSearchParam.Keyword=a,this.FileSearchParam.showStyle=h,e.Keyword&&this.addSuggestions(e.Keyword),this.addHistory(e)},addHistory(e){let i=!1;for(let t=0;t<this.History.length;t++)if(this.History[t].Page==e.Page&&this.History[t].PageSize==e.PageSize&&this.History[t].Keyword==e.Keyword&&this.History[t].SortField==e.SortField&&this.History[t].SortType==e.SortType&&this.History[t].MovieType==e.MovieType){i=!0;break}i||this.History.unshift({...e,createTime:new Date}),this.History.length>50&&this.History.splice(0,49)},addFavorite(e){let i=!1;for(let t=0;t<this.Favorite.length;t++)if(this.Favorite[t].Page==e.Page&&this.Favorite[t].PageSize==e.PageSize&&this.Favorite[t].Keyword==e.Keyword&&this.Favorite[t].SortField==e.SortField&&this.Favorite[t].SortType==e.SortType&&this.Favorite[t].MovieType==e.MovieType){i=!0;break}i||this.Favorite.unshift({...e}),this.Favorite.length>50&&this.Favorite.splice(0,49)},setSettingInfo(e){this.SettingInfo=e},setImageHost(e){this.SettingInfo.ImageHost=e},setStreamHost(e){this.SettingInfo.StreamHost=e},setControllerHost(e){this.SettingInfo.ControllerHost=e},setPage(e){this.FileSearchParam.Page=e},setPageSize(e){this.FileSearchParam.PageSize=e},setMovieType(e){this.FileSearchParam.MovieType=e},setKeyword(e){this.FileSearchParam.Keyword=e},setSortField(e){this.FileSearchParam.SortField=e},setSortType(e){this.FileSearchParam.SortType=e},setOnlyRepeat(e){this.FileSearchParam.OnlyRepeat=e},addSuggestions(e){if(!e)return;this.SearchSuggestions||(this.SearchSuggestions=[]);const i=this.SearchSuggestions.indexOf(e);i>=0&&this.SearchSuggestions.splice(i,1),this.SearchSuggestions.unshift(e),this.SearchSuggestions.length>100&&this.SearchSuggestions.pop()}}});export{g as u};
