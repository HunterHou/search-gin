import{U as N,aI as R,aJ as $,aK as I,r as h,aL as L,aM as V,aN as K,a as _,w as P,g as U,j as k}from"./index.3f5fcfae.js";function D(e){return V()?(K(e),!0):!1}function b(e){return typeof e=="function"?e():N(e)}const X=typeof window!="undefined"&&typeof document!="undefined",G=Object.prototype.toString,J=e=>G.call(e)==="[object Object]",q=()=>{};function Q(e,t={}){if(!R(e))return $(e);const l=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const n in e.value)l[n]=I(()=>({get(){return e.value[n]},set(s){var u;if((u=b(t.replaceRef))!=null?u:!0)if(Array.isArray(e.value)){const a=[...e.value];a[n]=s,e.value=a}else{const a={...e.value,[n]:s};Object.setPrototypeOf(a,Object.getPrototypeOf(e.value)),e.value=a}else e.value[n]=s}}));return l}function Z(e,t,l={}){const{immediate:n=!0}=l,s=h(!1);let u=null;function c(){u&&(clearTimeout(u),u=null)}function a(){s.value=!1,c()}function o(...f){c(),s.value=!0,u=setTimeout(()=>{s.value=!1,u=null,e(...f)},b(t))}return n&&(s.value=!0,X&&o()),D(a),{isPending:L(s),start:o,stop:a}}function M(e){var t;const l=b(e);return(t=l==null?void 0:l.$el)!=null?t:l}const T=X?window:void 0;X&&window.document;const F=X?window.navigator:void 0;X&&window.location;function A(...e){let t,l,n,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([l,n,s]=e,t=T):[t,l,n,s]=e,!t)return q;Array.isArray(l)||(l=[l]),Array.isArray(n)||(n=[n]);const u=[],c=()=>{u.forEach(r=>r()),u.length=0},a=(r,i,v,g)=>(r.addEventListener(i,v,g),()=>r.removeEventListener(i,v,g)),o=P(()=>[M(t),b(s)],([r,i])=>{if(c(),!r)return;const v=J(i)?{...i}:i;u.push(...l.flatMap(g=>n.map(x=>a(r,g,x,v))))},{immediate:!0,flush:"post"}),f=()=>{o(),c()};return D(f),f}function j(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function le(...e){let t,l,n={};e.length===3?(t=e[0],l=e[1],n=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,l=e[0],n=e[1]):(t=e[0],l=e[1]):(t=!0,l=e[0]);const{target:s=T,eventName:u="keydown",passive:c=!1,dedupe:a=!1}=n,o=j(t);return A(s,u,r=>{r.repeat&&b(a)||o(r)&&l(r)},c)}function ee(){const e=h(!1);return U()&&k(()=>{e.value=!0}),e}function z(e){const t=ee();return _(()=>(t.value,Boolean(e())))}function re(e={}){const{navigator:t=F,read:l=!1,source:n,copiedDuring:s=1500,legacy:u=!1}=e,c=z(()=>t&&"clipboard"in t),a=_(()=>c.value||u),o=h(""),f=h(!1),r=Z(()=>f.value=!1,s);function i(){c.value?t.clipboard.readText().then(y=>{o.value=y}):o.value=x()}a.value&&l&&A(["copy","cut"],i);async function v(y=b(n)){a.value&&y!=null&&(c.value?await t.clipboard.writeText(y):g(y),o.value=y,f.value=!0,r.start())}function g(y){const m=document.createElement("textarea");m.value=y!=null?y:"",m.style.position="absolute",m.style.opacity="0",document.body.appendChild(m),m.select(),document.execCommand("copy"),m.remove()}function x(){var y,m,w;return(w=(m=(y=document==null?void 0:document.getSelection)==null?void 0:y.call(document))==null?void 0:m.toString())!=null?w:""}return{isSupported:a,text:o,copied:f,copy:v}}function se(e,t={}){var l,n;const{pointerTypes:s,preventDefault:u,stopPropagation:c,exact:a,onMove:o,onEnd:f,onStart:r,initialValue:i,axis:v="both",draggingElement:g=T,containerElement:x,handle:y=e}=t,m=h((l=b(i))!=null?l:{x:0,y:0}),w=h(),E=p=>s?s.includes(p.pointerType):!0,S=p=>{b(u)&&p.preventDefault(),b(c)&&p.stopPropagation()},C=p=>{var Y;if(!E(p)||b(a)&&p.target!==b(e))return;const H=((Y=b(x))!=null?Y:b(e)).getBoundingClientRect(),W={x:p.clientX-H.left,y:p.clientY-H.top};(r==null?void 0:r(W,p))!==!1&&(w.value=W,S(p))},d=p=>{if(!E(p)||!w.value)return;let{x:Y,y:B}=m.value;(v==="x"||v==="both")&&(Y=p.clientX-w.value.x),(v==="y"||v==="both")&&(B=p.clientY-w.value.y),m.value={x:Y,y:B},o==null||o(m.value,p),S(p)},O=p=>{!E(p)||!w.value||(w.value=void 0,f==null||f(m.value,p),S(p))};if(X){const p={capture:(n=t.capture)!=null?n:!0};A(y,"pointerdown",C,p),A(g,"pointermove",d,p),A(g,"pointerup",O,p)}return{...Q(m),position:m,isDragging:_(()=>!!w.value),style:_(()=>`left:${m.value.x}px;top:${m.value.y}px;`)}}function te(e,t,l={}){const{window:n=T,...s}=l;let u;const c=z(()=>n&&"ResizeObserver"in n),a=()=>{u&&(u.disconnect(),u=void 0)},o=_(()=>Array.isArray(e)?e.map(i=>M(i)):[M(e)]),f=P(o,i=>{if(a(),c.value&&n){u=new ResizeObserver(t);for(const v of i)v&&u.observe(v,s)}},{immediate:!0,flush:"post",deep:!0}),r=()=>{a(),f()};return D(r),{isSupported:c,stop:r}}function ae(e,t={width:0,height:0},l={}){const{window:n=T,box:s="content-box"}=l,u=_(()=>{var o,f;return(f=(o=M(e))==null?void 0:o.namespaceURI)==null?void 0:f.includes("svg")}),c=h(t.width),a=h(t.height);return te(e,([o])=>{const f=s==="border-box"?o.borderBoxSize:s==="content-box"?o.contentBoxSize:o.devicePixelContentBoxSize;if(n&&u.value){const r=M(e);if(r){const i=n.getComputedStyle(r);c.value=Number.parseFloat(i.width),a.value=Number.parseFloat(i.height)}}else if(f){const r=Array.isArray(f)?f:[f];c.value=r.reduce((i,{inlineSize:v})=>i+v,0),a.value=r.reduce((i,{blockSize:v})=>i+v,0)}else c.value=o.contentRect.width,a.value=o.contentRect.height},l),P(()=>M(e),o=>{c.value=o?t.width:0,a.value=o?t.height:0}),{width:c,height:a}}const ne={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function oe(e={}){const{type:t="page",touch:l=!0,resetOnTouchEnds:n=!1,initialValue:s={x:0,y:0},window:u=T,target:c=u,scroll:a=!0,eventFilter:o}=e;let f=null;const r=h(s.x),i=h(s.y),v=h(null),g=typeof t=="function"?t:ne[t],x=d=>{const O=g(d);f=d,O&&([r.value,i.value]=O,v.value="mouse")},y=d=>{if(d.touches.length>0){const O=g(d.touches[0]);O&&([r.value,i.value]=O,v.value="touch")}},m=()=>{if(!f||!u)return;const d=g(f);f instanceof MouseEvent&&d&&(r.value=d[0]+u.scrollX,i.value=d[1]+u.scrollY)},w=()=>{r.value=s.x,i.value=s.y},E=o?d=>o(()=>x(d),{}):d=>x(d),S=o?d=>o(()=>y(d),{}):d=>y(d),C=o?()=>o(()=>m(),{}):()=>m();if(c){const d={passive:!0};A(c,["mousemove","dragover"],E,d),l&&t!=="movement"&&(A(c,["touchstart","touchmove"],S,d),n&&A(c,"touchend",w,d)),a&&t==="page"&&A(u,"scroll",C,{passive:!0})}return{x:r,y:i,sourceType:v}}function ie(e,t={}){const{handleOutside:l=!0,window:n=T}=t,{x:s,y:u,sourceType:c}=oe(t),a=h(e!=null?e:n==null?void 0:n.document.body),o=h(0),f=h(0),r=h(0),i=h(0),v=h(0),g=h(0),x=h(!0);let y=()=>{};return n&&(y=P([a,s,u],()=>{const m=M(a);if(!m)return;const{left:w,top:E,width:S,height:C}=m.getBoundingClientRect();r.value=w+n.pageXOffset,i.value=E+n.pageYOffset,v.value=C,g.value=S;const d=s.value-r.value,O=u.value-i.value;x.value=S===0||C===0||d<0||O<0||d>S||O>C,(l||!x.value)&&(o.value=d,f.value=O)},{immediate:!0}),A(document,"mouseleave",()=>{x.value=!0})),{x:s,y:u,sourceType:c,elementX:o,elementY:f,elementPositionX:r,elementPositionY:i,elementHeight:v,elementWidth:g,isOutside:x,stop:y}}export{se as a,ae as b,ie as c,le as o,re as u};
