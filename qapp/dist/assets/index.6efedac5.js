import{r as m,aZ as B,a_ as H,a$ as W,a5 as j,a as T,w as R,g as z,j as P}from"./index.b26dd352.js";function Y(e){return H()?(W(e),!0):!1}function E(e){return typeof e=="function"?e():j(e)}const M=typeof window!="undefined"&&typeof document!="undefined",N=Object.prototype.toString,D=e=>N.call(e)==="[object Object]",I=()=>{};function L(e,t,s={}){const{immediate:l=!0}=s,r=m(!1);let u=null;function i(){u&&(clearTimeout(u),u=null)}function f(){r.value=!1,i()}function n(...a){i(),r.value=!0,u=setTimeout(()=>{r.value=!1,u=null,e(...a)},E(t))}return l&&(r.value=!0,M&&n()),Y(f),{isPending:B(r),start:n,stop:f}}function x(e){var t;const s=E(e);return(t=s==null?void 0:s.$el)!=null?t:s}const O=M?window:void 0;M&&window.document;const V=M?window.navigator:void 0;M&&window.location;function g(...e){let t,s,l,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([s,l,r]=e,t=O):[t,s,l,r]=e,!t)return I;Array.isArray(s)||(s=[s]),Array.isArray(l)||(l=[l]);const u=[],i=()=>{u.forEach(o=>o()),u.length=0},f=(o,c,p,y)=>(o.addEventListener(c,p,y),()=>o.removeEventListener(c,p,y)),n=R(()=>[x(t),E(r)],([o,c])=>{if(i(),!o)return;const p=D(c)?{...c}:c;u.push(...s.flatMap(y=>l.map(w=>f(o,y,w,p))))},{immediate:!0,flush:"post"}),a=()=>{n(),i()};return Y(a),a}function $(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function q(...e){let t,s,l={};e.length===3?(t=e[0],s=e[1],l=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,s=e[0],l=e[1]):(t=e[0],s=e[1]):(t=!0,s=e[0]);const{target:r=O,eventName:u="keydown",passive:i=!1,dedupe:f=!1}=l,n=$(t);return g(r,u,o=>{o.repeat&&E(f)||n(o)&&s(o)},i)}function K(){const e=m(!1);return z()&&P(()=>{e.value=!0}),e}function _(e){const t=K();return T(()=>(t.value,Boolean(e())))}function J(e={}){const{navigator:t=V,read:s=!1,source:l,copiedDuring:r=1500,legacy:u=!1}=e,i=_(()=>t&&"clipboard"in t),f=T(()=>i.value||u),n=m(""),a=m(!1),o=L(()=>a.value=!1,r);function c(){i.value?t.clipboard.readText().then(v=>{n.value=v}):n.value=w()}f.value&&s&&g(["copy","cut"],c);async function p(v=E(l)){f.value&&v!=null&&(i.value?await t.clipboard.writeText(v):y(v),n.value=v,a.value=!0,o.start())}function y(v){const h=document.createElement("textarea");h.value=v!=null?v:"",h.style.position="absolute",h.style.opacity="0",document.body.appendChild(h),h.select(),document.execCommand("copy"),h.remove()}function w(){var v,h,S;return(S=(h=(v=document==null?void 0:document.getSelection)==null?void 0:v.call(document))==null?void 0:h.toString())!=null?S:""}return{isSupported:f,text:n,copied:a,copy:p}}function U(e,t,s={}){const{window:l=O,...r}=s;let u;const i=_(()=>l&&"ResizeObserver"in l),f=()=>{u&&(u.disconnect(),u=void 0)},n=T(()=>Array.isArray(e)?e.map(c=>x(c)):[x(e)]),a=R(n,c=>{if(f(),i.value&&l){u=new ResizeObserver(t);for(const p of c)p&&u.observe(p,r)}},{immediate:!0,flush:"post",deep:!0}),o=()=>{f(),a()};return Y(o),{isSupported:i,stop:o}}function Q(e,t={width:0,height:0},s={}){const{window:l=O,box:r="content-box"}=s,u=T(()=>{var n,a;return(a=(n=x(e))==null?void 0:n.namespaceURI)==null?void 0:a.includes("svg")}),i=m(t.width),f=m(t.height);return U(e,([n])=>{const a=r==="border-box"?n.borderBoxSize:r==="content-box"?n.contentBoxSize:n.devicePixelContentBoxSize;if(l&&u.value){const o=x(e);if(o){const c=l.getComputedStyle(o);i.value=Number.parseFloat(c.width),f.value=Number.parseFloat(c.height)}}else if(a){const o=Array.isArray(a)?a:[a];i.value=o.reduce((c,{inlineSize:p})=>c+p,0),f.value=o.reduce((c,{blockSize:p})=>c+p,0)}else i.value=n.contentRect.width,f.value=n.contentRect.height},s),R(()=>x(e),n=>{i.value=n?t.width:0,f.value=n?t.height:0}),{width:i,height:f}}const G={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function Z(e={}){const{type:t="page",touch:s=!0,resetOnTouchEnds:l=!1,initialValue:r={x:0,y:0},window:u=O,target:i=u,scroll:f=!0,eventFilter:n}=e;let a=null;const o=m(r.x),c=m(r.y),p=m(null),y=typeof t=="function"?t:G[t],w=d=>{const b=y(d);a=d,b&&([o.value,c.value]=b,p.value="mouse")},v=d=>{if(d.touches.length>0){const b=y(d.touches[0]);b&&([o.value,c.value]=b,p.value="touch")}},h=()=>{if(!a||!u)return;const d=y(a);a instanceof MouseEvent&&d&&(o.value=d[0]+u.scrollX,c.value=d[1]+u.scrollY)},S=()=>{o.value=r.x,c.value=r.y},X=n?d=>n(()=>w(d),{}):d=>w(d),A=n?d=>n(()=>v(d),{}):d=>v(d),C=n?()=>n(()=>h(),{}):()=>h();if(i){const d={passive:!0};g(i,["mousemove","dragover"],X,d),s&&t!=="movement"&&(g(i,["touchstart","touchmove"],A,d),l&&g(i,"touchend",S,d)),f&&t==="page"&&g(u,"scroll",C,{passive:!0})}return{x:o,y:c,sourceType:p}}function F(e,t={}){const{handleOutside:s=!0,window:l=O}=t,{x:r,y:u,sourceType:i}=Z(t),f=m(e!=null?e:l==null?void 0:l.document.body),n=m(0),a=m(0),o=m(0),c=m(0),p=m(0),y=m(0),w=m(!0);let v=()=>{};return l&&(v=R([f,r,u],()=>{const h=x(f);if(!h)return;const{left:S,top:X,width:A,height:C}=h.getBoundingClientRect();o.value=S+l.pageXOffset,c.value=X+l.pageYOffset,p.value=C,y.value=A;const d=r.value-o.value,b=u.value-c.value;w.value=A===0||C===0||d<0||b<0||d>A||b>C,(s||!w.value)&&(n.value=d,a.value=b)},{immediate:!0}),g(document,"mouseleave",()=>{w.value=!0})),{x:r,y:u,sourceType:i,elementX:n,elementY:a,elementPositionX:o,elementPositionY:c,elementHeight:p,elementWidth:y,isOutside:w,stop:v}}export{Q as a,F as b,q as o,J as u};
