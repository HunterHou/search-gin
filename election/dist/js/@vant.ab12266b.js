import{i as x,d as b,e as L,r as v,f as y,g as T,n as P,h as R,j as _,k as M,w as N,u as h,l as O,p as S,m as V}from"./@vue.aac442b6.js";var d=typeof window<"u";function C(n){return d?requestAnimationFrame(n):-1}function q(n){C(()=>C(n))}var D=n=>n===window,E=(n,e)=>({top:0,left:0,right:n,bottom:e,width:n,height:e}),J=n=>{const e=h(n);if(D(e)){const t=e.innerWidth,i=e.innerHeight;return E(t,i)}return e!=null&&e.getBoundingClientRect?e.getBoundingClientRect():E(0,0)};function K(n){const e=x(n,null);if(e){const t=O(),{link:i,unlink:s,internalChildren:r}=e;i(t),b(()=>s(t));const a=L(()=>r.indexOf(t));return{parent:e,index:a}}return{parent:null,index:v(-1)}}function I(n){const e=[],t=i=>{Array.isArray(i)&&i.forEach(s=>{var r;V(s)&&(e.push(s),(r=s.component)!=null&&r.subTree&&(e.push(s.component.subTree),t(s.component.subTree.children)),s.children&&t(s.children))})};return t(n),e}var k=(n,e)=>{const t=n.indexOf(e);return t===-1?n.findIndex(i=>e.key!==void 0&&e.key!==null&&i.type===e.type&&i.key===e.key):t};function W(n,e,t){const i=I(n.subTree.children);t.sort((r,a)=>k(i,r.vnode)-k(i,a.vnode));const s=t.map(r=>r.proxy);e.sort((r,a)=>{const c=s.indexOf(r),o=s.indexOf(a);return c-o})}function G(n){const e=y([]),t=y([]),i=O();return{children:e,linkChildren:r=>{S(n,Object.assign({link:o=>{o.proxy&&(t.push(o),e.push(o.proxy),W(i,e,t))},unlink:o=>{const u=t.indexOf(o);e.splice(u,1),t.splice(u,1)},children:e,internalChildren:t},r))}}}function B(n){let e;T(()=>{n(),P(()=>{e=!0})}),R(()=>{e&&n()})}function Y(n,e,t={}){if(!d)return;const{target:i=window,passive:s=!1,capture:r=!1}=t;let a=!1,c;const o=f=>{if(a)return;const l=h(f);l&&!c&&(l.addEventListener(n,e,{capture:r,passive:s}),c=!0)},u=f=>{if(a)return;const l=h(f);l&&c&&(l.removeEventListener(n,e,r),c=!1)};b(()=>u(i)),_(()=>u(i)),B(()=>o(i));let m;return M(i)&&(m=N(i,(f,l)=>{u(l),o(f)})),()=>{m==null||m(),u(i),a=!0}}function Q(n,e,t={}){if(!d)return;const{eventName:i="click"}=t;Y(i,r=>{(Array.isArray(n)?n:[n]).every(o=>{const u=h(o);return u&&!u.contains(r.target)})&&e(r)},{target:document})}var p,g;function X(){if(!p&&(p=v(0),g=v(0),d)){const n=()=>{p.value=window.innerWidth,g.value=window.innerHeight};n(),window.addEventListener("resize",n,{passive:!0}),window.addEventListener("orientationchange",n,{passive:!0})}return{width:p,height:g}}var j=/scroll|auto|overlay/i,A=d?window:void 0;function F(n){return n.tagName!=="HTML"&&n.tagName!=="BODY"&&n.nodeType===1}function H(n,e=A){let t=n;for(;t&&t!==e&&F(t);){const{overflowY:i}=window.getComputedStyle(t);if(j.test(i))return t;t=t.parentNode}return e}function Z(n,e=A){const t=v();return T(()=>{n.value&&(t.value=H(n.value,e))}),t}var w;function $(){if(!w&&(w=v("visible"),d)){const n=()=>{w.value=document.hidden?"hidden":"visible"};n(),window.addEventListener("visibilitychange",n)}return w}var z=Symbol("van-field");function ee(n){const e=x(z,null);e&&!e.customValue.value&&(e.customValue.value=n,N(n,()=>{e.resetValidation(),e.validateWithTrigger("onChange")}))}export{z as C,J as a,G as b,K as c,Y as d,Z as e,$ as f,H as g,q as h,ee as i,Q as j,B as o,C as r,X as u};
