import{a as l}from"./axios.40c08a08.js";import{l as i}from"./qs.400ff04d.js";import{k as u}from"./element-plus.eda9c21b.js";const n={base_url:{base:"",dev:"",pro:"",test:""},result_code:"200",request_timeout:6e4,default_headers:"application/json"},o=l.create({baseURL:"",timeout:n.request_timeout});o.interceptors.request.use(e=>{if(e.method==="post"&&e.headers["Content-Type"]==="application/x-www-form-urlencoded"&&(e.data=i.stringify(e.data)),e.method==="get"&&e.params){let t=e.url;t+="?";const a=Object.keys(e.params);for(const r of a)e.params[r]!==void 0&&e.params[r]!==null&&(t+=`${r}=${encodeURIComponent(e.params[r])}&`);t=t.substring(0,t.length-1),e.params={},e.url=t}return e},e=>{console.log(e),Promise.reject(e)});o.interceptors.response.use(e=>(e.status==403&&(console.log(e.data.msg),u.error(e.data.msg)),e.data),e=>(u.error(e),Promise.reject(e)));const s=e=>{const{url:t,method:a,params:r,data:d,headersType:m,responseType:p}=e;return o({url:t,method:a,params:r,data:d,responseType:p,headers:{"Content-Type":m||n.default_headers}})};function c(e){return s({method:"get",...e})}function h(e){return s({method:"post",...e})}function y(e){return s({method:"delete",...e})}function b(e){return s({method:"put",...e})}const k=()=>({get:c,post:h,delete:y,put:b});export{k as u};
