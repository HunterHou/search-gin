import{r as m,d as C,e as O,i as T,w as y,f,g as b,h as N,j as L,p as P,n as R,k as _,u as w,l as x,m as A}from"./@vue.4a24e03e.js";var d=typeof window<"u";function g(e){return d?requestAnimationFrame(e):-1}function V(e){g(()=>g(e))}var M=e=>e===window,E=(e,n)=>({top:0,left:0,right:e,bottom:n,width:e,height:n}),z=e=>{const n=w(e);if(M(n)){const t=n.innerWidth,i=n.innerHeight;return E(t,i)}return n!=null&&n.getBoundingClientRect?n.getBoundingClientRect():E(0,0)};function F(e){const n=N(e,null);if(n){const t=x(),{link:i,unlink:o,internalChildren:r}=n;i(t),C(()=>o(t));const s=L(()=>r.indexOf(t));return{parent:n,index:s}}return{parent:null,index:f(-1)}}function S(e){const n=[],t=i=>{Array.isArray(i)&&i.forEach(o=>{var r;A(o)&&(n.push(o),(r=o.component)!=null&&r.subTree&&(n.push(o.component.subTree),t(o.component.subTree.children)),o.children&&t(o.children))})};return t(e),n}function D(e,n,t){const i=S(e.subTree.children);t.sort((r,s)=>i.indexOf(r.vnode)-i.indexOf(s.vnode));const o=t.map(r=>r.proxy);n.sort((r,s)=>{const l=o.indexOf(r),a=o.indexOf(s);return l-a})}function U(e){const n=m([]),t=m([]),i=x();return{children:n,linkChildren:r=>{P(e,Object.assign({link:a=>{a.proxy&&(t.push(a),n.push(a.proxy),D(i,n,t))},unlink:a=>{const u=t.indexOf(a);n.splice(u,1),t.splice(u,1)},children:n,internalChildren:t},r))}}}function B(e){let n;b(()=>{e(),R(()=>{n=!0})}),_(()=>{n&&e()})}function Y(e,n,t={}){if(!d)return;const{target:i=window,passive:o=!1,capture:r=!1}=t;let s;const l=u=>{const c=w(u);c&&!s&&(c.addEventListener(e,n,{capture:r,passive:o}),s=!0)},a=u=>{const c=w(u);c&&s&&(c.removeEventListener(e,n,r),s=!1)};C(()=>a(i)),O(()=>a(i)),B(()=>l(i)),T(i)&&y(i,(u,c)=>{a(c),l(u)})}function q(e,n,t={}){if(!d)return;const{eventName:i="click"}=t;Y(i,r=>{const s=w(e);s&&!s.contains(r.target)&&n(r)},{target:document})}var v,h;function J(){if(!v&&(v=f(0),h=f(0),d)){const e=()=>{v.value=window.innerWidth,h.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:v,height:h}}var I=/scroll|auto/i,k=d?window:void 0;function W(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function j(e,n=k){let t=e;for(;t&&t!==n&&W(t);){const{overflowY:i}=window.getComputedStyle(t);if(I.test(i))return t;t=t.parentNode}return n}function K(e,n=k){const t=f();return b(()=>{e.value&&(t.value=j(e.value,n))}),t}var p;function G(){if(!p&&(p=f("visible"),d)){const e=()=>{p.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return p}var Q=Symbol("van-field");export{Q as C,z as a,Y as b,F as c,K as d,U as e,G as f,j as g,V as h,q as i,B as o,J as u};
