import{K as W,f as X,r as c,e as q,g as J,o as s,c as f,Y as a,S as u,u as o,a5 as S,a as D,W as m,X as y,F as b,a7 as V,R as i,k as Q,a8 as B}from"./@vue.aac442b6.js";import{u as Z}from"./vue-router.168b8979.js";import{G as h,b as ee,P as le,c as te,_ as oe}from"./index.a934c3e6.js";import{e as ue,g as ae}from"./@vueuse.01f8cc47.js";import{S as se,b as ne}from"./index.93a240da.js";import{u as ie,e as E,v as re,w as F,x as r,y as x,A as U,B as $,C as I,j as T,D as me,F as de,G as fe,H as p,g as pe}from"./element-plus.df9a4506.js";import"./axios.647abbdf.js";import"./@kangc.e6acbb3a.js";import"./vue.8e517399.js";import"./qs.0ddf2e0d.js";import"./side-channel.db6cd5a0.js";import"./get-intrinsic.7b6078ff.js";import"./has-symbols.6b764405.js";import"./function-bind.c99feded.js";import"./has.38a7880d.js";import"./call-bind.a2ca479f.js";import"./object-inspect.a67a4921.js";import"./pinia.78dfdeea.js";import"./vue-demi.6e7a88e9.js";import"./pinia-plugin-persist.32a83e37.js";import"./vant.f448ad5c.js";import"./@vant.aebe3a02.js";import"./@element-plus.148c5373.js";import"./vue3-video-play.cdf2b84d.js";import"./highlight.js.a2669c08.js";import"./lodash-es.94e8499d.js";import"./@popperjs.fd04dfd6.js";import"./@ctrl.9375a141.js";import"./dayjs.944d2b57.js";import"./async-validator.73a10b83.js";import"./memoize-one.c87f6fc8.js";import"./escape-html.86960cf8.js";import"./normalize-wheel-es.e2b4fa49.js";import"./@floating-ui.6065d27f.js";const be={align:"center",style:{"margin-top":"-30px"}},Ve=["href"],ye={style:{float:"right"}},ge={class:"container"},De={style:{width:"90%"}},ve={style:{"text-align":"left"}},Ee=W({__name:"Setting",setup(Te){const _=ue(ae(),"YYYY-MM-DD HH:mm:ss"),{go:z}=Z(),t=X({form:new se,ipAddr:"",inputValue:"",typeVisible:!1,MovieTypesVisible:!1,TagsLibVisible:!1,DirsLibVisible:!1,isIndeterminateDir:!1,popTagLibData:[],isIndeterminate:!1,loading:!1}),A=c("second"),C=n=>{t[n]=!0,console.log(n),n=!0},g=(n,l)=>{!t.inputValue||(t.form[l]||(t.form[l]=[]),t.form[l].indexOf(t.inputValue)<0&&t.form[l].push(t.inputValue),t[n]=!1,t.inputValue=null)},k=(n,l)=>{t.form[l].splice(t.form[l].indexOf(n),1)},L=q(()=>{var n,l,d,v;return((l=(n=t.form)==null?void 0:n.Dirs)==null?void 0:l.length)===((v=(d=t.form)==null?void 0:d.DirsLib)==null?void 0:v.length)}),R=n=>{const l=t.form.Tags.indexOf(n);t.form.Tags.splice(l,1)},H=()=>{z(-1)},N=()=>{},O=n=>{t.form.Dirs=n?t.form.DirsLib:[],t.isIndeterminate=!1},G=n=>{var l,d,v,e;console.log((l=t.form)==null?void 0:l.Dirs.length,(d=t.form)==null?void 0:d.Dirs),console.log((v=t.form)==null?void 0:v.DirsLib.length,(e=t.form)==null?void 0:e.DirsLib)},K=async()=>{const n={...t.form,BaseDir:t.form.Dirs};t.loading=!0,await le(n)&&z(0)},M=()=>{const n=[],{TagsLib:l=[]}=t.form;if(l)for(var d=0;d<l.length;d++)n.push({key:l[d],label:l[d]});t.form.tagLibData=n},Y=async()=>{const n=await h();n&&(t.form=n,M())},P=async()=>{const n=await ee();t.ipAddr=n.Data},j=async()=>{const n=await te();pe.success(n.Message)};return J(()=>{document.title="\u8A2D\u7F6E",Y(),P()}),(n,l)=>{const d=S("ElSwitch"),v=S("v-md-editor");return s(),f("div",be,[a(o(ie),{"label-width":"160px",ref:"form",model:t.form,"label-position":"right"},{default:u(()=>[D("h3",null,[a(o(E),{style:{float:"left"},size:"default",type:"danger",onClick:j},{default:u(()=>[m("\u5173\u95ED\u8BA1\u7B97\u673A ")]),_:1}),D("a",{href:"http://"+t.ipAddr+":10081"},y(t.ipAddr+":10081"),9,Ve),D("span",ye,y(o(_)),1)]),D("div",ge,[a(o(re),{modelValue:A.value,"onUpdate:modelValue":l[33]||(l[33]=e=>A.value=e),type:"card",onTabClick:N},{default:u(()=>[a(o(F),{label:"\u626B\u63CF\u8BBE\u7F6E",name:"first"},{default:u(()=>[a(d,{modelValue:t.form.IsDb,"onUpdate:modelValue":l[0]||(l[0]=e=>t.form.IsDb=e),size:"default","active-text":"\u6570\u636E\u5E93","inactive-text":"\u7B97\u6CD5"},null,8,["modelValue"]),a(o(r),{label:"\u56FE\u7247\u7C7B\u578B"},{default:u(()=>[a(o(x),{modelValue:t.form.ImageTypes,"onUpdate:modelValue":l[1]||(l[1]=e=>t.form.ImageTypes=e),multiple:"",placeholder:"\u8BF7\u9009\u62E9",style:{width:"90%"},size:"default"},{default:u(()=>[(s(!0),f(b,null,V(t.form.Types,e=>(s(),i(o(U),{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(o(r),{label:"\u6587\u6863\u7C7B\u578B"},{default:u(()=>[a(o(x),{modelValue:t.form.DocsTypes,"onUpdate:modelValue":l[2]||(l[2]=e=>t.form.DocsTypes=e),multiple:"",placeholder:"\u8BF7\u9009\u62E9",style:{width:"90%"},size:"default"},{default:u(()=>[(s(!0),f(b,null,V(t.form.Types,e=>(s(),i(o(U),{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(o(r),{label:"\u89C6\u9891\u7C7B\u578B"},{default:u(()=>[a(o(x),{modelValue:t.form.VideoTypes,"onUpdate:modelValue":l[3]||(l[3]=e=>t.form.VideoTypes=e),multiple:"",placeholder:"\u8BF7\u9009\u62E9",style:{width:"90%"},size:"default"},{default:u(()=>[(s(!0),f(b,null,V(t.form.Types,e=>(s(),i(o(U),{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(o(r),{label:"\u5B9A\u5236\u6309\u94AE"},{default:u(()=>[a(o($),{modelValue:t.form.Buttons,"onUpdate:modelValue":l[4]||(l[4]=e=>t.form.Buttons=e),size:"large"},{default:u(()=>[(s(!0),f(b,null,V(o(ne),e=>(s(),i(o(I),{key:e,label:e},{default:u(()=>[m(y(e),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(o(r),{label:"\u70ED\u95E8\u6807\u7B7E"},{default:u(()=>[D("div",De,[(s(!0),f(b,null,V(t.form.Tags,e=>(s(),i(o(T),{size:"default",key:e,closable:"",style:{"margin-right":"5px"},onClose:w=>R(e)},{default:u(()=>[m(y(e),1)]),_:2},1032,["onClose"]))),128)),a(o(me),{placement:"left",width:"400px;",trigger:"click"},{reference:u(()=>[a(o(de),{type:"success",icon:"el-icon-edit",onClick:l[5]||(l[5]=()=>{M(),t.popTagLibData=t.form.tagLibData})},{default:u(()=>[m("\u6DFB\u52A0 ")]),_:1})]),default:u(()=>[a(o(fe),{titles:["\u6807\u7B7E\u5E93","\u5DF2\u9009"],modelValue:t.form.Tags,"onUpdate:modelValue":l[6]||(l[6]=e=>t.form.Tags=e),"target-order":"push",data:t.popTagLibData},null,8,["modelValue","data"])]),_:1})])]),_:1}),a(o(r),{label:"\u5DF2\u9009\u8DEF\u5F91"},{default:u(()=>[a(o(I),{size:"default",indeterminate:t.isIndeterminateDir,modelValue:o(L),"onUpdate:modelValue":l[7]||(l[7]=e=>Q(L)?L.value=e:null),onChange:O},{default:u(()=>[m("\u5168\u9009 ")]),_:1},8,["indeterminate","modelValue"]),a(o($),{modelValue:t.form.Dirs,"onUpdate:modelValue":l[8]||(l[8]=e=>t.form.Dirs=e),onChange:G},{default:u(()=>[(s(!0),f(b,null,V(t.form.DirsLib,e=>(s(),i(o(I),{size:"default",label:e,key:e},{default:u(()=>[m(y(e),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(o(r),{label:"\u5907\u6CE8"},{default:u(()=>[a(o(p),{type:"textarea",rows:8,modelValue:t.form.Remark,"onUpdate:modelValue":l[9]||(l[9]=e=>t.form.Remark=e),style:{width:"90%","margin-bottom":"20px"}},null,8,["modelValue"])]),_:1})]),_:1}),a(o(F),{label:"\u57FA\u7840\u914D\u7F6E",name:"second"},{default:u(()=>[a(o(r),{label:"\u8BF7\u6C42\u670D\u52A1\u5668"},{default:u(()=>[a(o(p),{modelValue:t.form.ControllerHost,"onUpdate:modelValue":l[10]||(l[10]=e=>t.form.ControllerHost=e),style:{width:"90%"},size:"default"},null,8,["modelValue"])]),_:1}),a(o(r),{label:"\u56FE\u7247\u670D\u52A1\u5668"},{default:u(()=>[a(o(p),{modelValue:t.form.ImageHost,"onUpdate:modelValue":l[11]||(l[11]=e=>t.form.ImageHost=e),style:{width:"90%"},size:"default"},null,8,["modelValue"])]),_:1}),a(o(r),{label:"\u6D41\u670D\u52A1\u5668"},{default:u(()=>[a(o(p),{modelValue:t.form.StreamHost,"onUpdate:modelValue":l[12]||(l[12]=e=>t.form.StreamHost=e),style:{width:"90%"},size:"default"},null,8,["modelValue"])]),_:1}),a(o(r),{label:"URL"},{default:u(()=>[a(o(p),{modelValue:t.form.BaseUrl,"onUpdate:modelValue":l[13]||(l[13]=e=>t.form.BaseUrl=e),style:{width:"90%"},size:"default"},null,8,["modelValue"])]),_:1}),a(o(r),{label:"OM-URL"},{default:u(()=>[a(o(p),{modelValue:t.form.OMUrl,"onUpdate:modelValue":l[14]||(l[14]=e=>t.form.OMUrl=e),style:{width:"90%"},size:"default"},null,8,["modelValue"])]),_:1}),a(o(r),{label:"\u679A\u4E3E\u6587\u4EF6\u7C7B\u578B"},{default:u(()=>[(s(!0),f(b,null,V(t.form.Types,e=>(s(),i(o(T),{key:e,class:"inputTag",closable:"","disable-transitions":!1,onClose:w=>k(e,"Types")},{default:u(()=>[m(y(e),1)]),_:2},1032,["onClose"]))),128)),t.typeVisible?(s(),i(o(p),{key:0,ref:"InputRef",modelValue:t.inputValue,"onUpdate:modelValue":l[15]||(l[15]=e=>t.inputValue=e),class:"ml-1 w-20",size:"small",onKeyup:l[16]||(l[16]=B(e=>g("typeVisible","Types"),["enter"])),onBlur:l[17]||(l[17]=e=>g("typeVisible","Types"))},null,8,["modelValue"])):(s(),i(o(E),{key:1,class:"button-new-tag ml-1",size:"small",onClick:l[18]||(l[18]=e=>C("typeVisible"))},{default:u(()=>[m(" + New ")]),_:1}))]),_:1}),a(o(r),{label:"\u89C6\u9891\u7C7B\u578B"},{default:u(()=>[(s(!0),f(b,null,V(t.form.MovieTypes,e=>(s(),i(o(T),{key:e,class:"inputTag",closable:"","disable-transitions":!1,onClose:w=>k(e,"MovieTypes")},{default:u(()=>[m(y(e),1)]),_:2},1032,["onClose"]))),128)),t.MovieTypesVisible?(s(),i(o(p),{key:0,ref:"InputRef",modelValue:t.inputValue,"onUpdate:modelValue":l[19]||(l[19]=e=>t.inputValue=e),class:"ml-1 w-20",size:"small",onKeyup:l[20]||(l[20]=B(e=>g("MovieTypesVisible","MovieTypes"),["enter"])),onBlur:l[21]||(l[21]=e=>g("MovieTypesVisible","MovieTypes"))},null,8,["modelValue"])):(s(),i(o(E),{key:1,class:"button-new-tag ml-1",size:"small",onClick:l[22]||(l[22]=e=>C("MovieTypesVisible"))},{default:u(()=>[m(" + New ")]),_:1}))]),_:1}),a(o(r),{label:"\u6807\u7B7E\u5E93"},{default:u(()=>[(s(!0),f(b,null,V(t.form.TagsLib,e=>(s(),i(o(T),{key:e,class:"inputTag",closable:"","disable-transitions":!1,onClose:w=>k(e,"TagsLib")},{default:u(()=>[m(y(e),1)]),_:2},1032,["onClose"]))),128)),t.TagsLibVisible?(s(),i(o(p),{key:0,ref:"InputRef",modelValue:t.inputValue,"onUpdate:modelValue":l[23]||(l[23]=e=>t.inputValue=e),class:"ml-1 w-20",size:"small",onKeyup:l[24]||(l[24]=B(e=>g("TagsLibVisible","TagsLib"),["enter"])),onBlur:l[25]||(l[25]=e=>g("TagsLibVisible","TagsLib"))},null,8,["modelValue"])):(s(),i(o(E),{key:1,class:"button-new-tag ml-1",size:"small",onClick:l[26]||(l[26]=e=>C("TagsLibVisible"))},{default:u(()=>[m(" + New ")]),_:1}))]),_:1}),a(o(r),{label:"\u8DEF\u5F91\u5E93"},{default:u(()=>[(s(!0),f(b,null,V(t.form.DirsLib,e=>(s(),i(o(T),{key:e,class:"inputTag",closable:"","disable-transitions":!1,onClose:w=>k(e,"DirsLib")},{default:u(()=>[m(y(e),1)]),_:2},1032,["onClose"]))),128)),t.DirsLibVisible?(s(),i(o(p),{key:0,ref:"InputRef",modelValue:t.inputValue,"onUpdate:modelValue":l[27]||(l[27]=e=>t.inputValue=e),class:"ml-1 w-20",size:"small",onKeyup:l[28]||(l[28]=B(e=>g("DirsLibVisible","DirsLib"),["enter"])),onBlur:l[29]||(l[29]=e=>g("DirsLibVisible","DirsLib"))},null,8,["modelValue"])):(s(),i(o(E),{key:1,class:"button-new-tag ml-1",size:"small",onClick:l[30]||(l[30]=e=>C("DirsLibVisible"))},{default:u(()=>[m(" + New ")]),_:1}))]),_:1}),a(o(r),{label:"\u5907\u6CE8"},{default:u(()=>[a(o(p),{type:"textarea",rows:8,modelValue:t.form.Remark,"onUpdate:modelValue":l[31]||(l[31]=e=>t.form.Remark=e),style:{width:"90%","margin-bottom":"20px"}},null,8,["modelValue"])]),_:1})]),_:1}),a(o(F),{label:"\u7CFB\u7EDF\u4FE1\u606F",name:"third"},{default:u(()=>[D("div",ve,[a(v,{modelValue:t.form.SystemHtml,"onUpdate:modelValue":l[32]||(l[32]=e=>t.form.SystemHtml=e),height:"700px"},null,8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])]),D("div",null,[a(o(E),{class:"return",type:"warning","align-text":"center",onClick:H},{default:u(()=>[m("\u8FD4\u56DE ")]),_:1})]),D("div",null,[a(o(E),{class:"submit",type:"primary","align-text":"center",onClick:K},{default:u(()=>[m("\u63D0\u4EA4 ")]),_:1})])]),_:1},8,["model"])])}}});const tl=oe(Ee,[["__scopeId","data-v-1ceda23c"]]);export{tl as default};
