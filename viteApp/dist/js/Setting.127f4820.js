import{K as h,f as j,r as W,e as X,g as q,o as n,c as f,Y as a,S as u,u as o,a5 as S,a as y,W as d,X as g,F as b,a7 as V,R as i,k as J,a8 as L}from"./@vue.aac442b6.js";import{u as Q}from"./vue-router.168b8979.js";import{G as Z,b as ee,P as le,c as te,_ as oe}from"./index.70e072a7.js";import{e as ae,f as ue}from"./@vueuse.b1e5e28c.js";import{S as se,b as ne}from"./index.2ba485a3.js";import{r as re,e as C,s as ie,t as F,u as r,v as x,w as U,x as $,y as I,j as v,A as de,B as me,C as fe,D as p,g as pe}from"./element-plus.7f50d77f.js";import"./axios.647abbdf.js";import"./@kangc.e6acbb3a.js";import"./vue.8e517399.js";import"./qs.0ddf2e0d.js";import"./side-channel.db6cd5a0.js";import"./get-intrinsic.7b6078ff.js";import"./has-symbols.6b764405.js";import"./function-bind.c99feded.js";import"./has.38a7880d.js";import"./call-bind.a2ca479f.js";import"./object-inspect.a67a4921.js";import"./pinia.78dfdeea.js";import"./vue-demi.6e7a88e9.js";import"./pinia-plugin-persist.32a83e37.js";import"./vant.168987bc.js";import"./@vant.ab12266b.js";import"./@element-plus.148c5373.js";import"./vue3-video-play.cdf2b84d.js";import"./highlight.js.a2669c08.js";import"./lodash-es.94e8499d.js";import"./@popperjs.fd04dfd6.js";import"./@ctrl.9375a141.js";import"./dayjs.944d2b57.js";import"./async-validator.73a10b83.js";import"./memoize-one.c87f6fc8.js";import"./escape-html.86960cf8.js";import"./normalize-wheel-es.e2b4fa49.js";import"./@floating-ui.6065d27f.js";const be={align:"center",style:{"margin-top":"-30px"}},Ve=["href"],ye={style:{float:"right"}},ge={class:"container"},De={style:{width:"90%"}},Ee={style:{"text-align":"left"}},Ce=h({__name:"Setting",setup(ve){const R=ae(ue(),"YYYY-MM-DD HH:mm:ss"),{go:A}=Q(),l=j({form:new se,ipAddr:"",inputValue:"",typeVisible:!1,TagsLibVisible:!1,DirsLibVisible:!1,isIndeterminateDir:!1,popTagLibData:[],isIndeterminate:!1,loading:!1}),_=W("second"),k=s=>{l[s]=!0,console.log(s),s=!0},E=(s,t)=>{!l.inputValue||(l.form[t].indexOf(l.inputValue)<0&&l.form[t].push(l.inputValue),l[s]=!1,l.inputValue=null)},w=(s,t)=>{l.form[t].splice(l.form[t].indexOf(s),1)},T=X(()=>{var s,t,m,D;return((t=(s=l.form)==null?void 0:s.Dirs)==null?void 0:t.length)===((D=(m=l.form)==null?void 0:m.DirsLib)==null?void 0:D.length)}),H=s=>{const t=l.form.Tags.indexOf(s);l.form.Tags.splice(t,1)},c=()=>{A(-1)},M=()=>{},N=s=>{l.form.Dirs=s?l.form.DirsLib:[],l.isIndeterminate=!1},O=s=>{var t,m,D,e;console.log((t=l.form)==null?void 0:t.Dirs.length,(m=l.form)==null?void 0:m.Dirs),console.log((D=l.form)==null?void 0:D.DirsLib.length,(e=l.form)==null?void 0:e.DirsLib)},G=async()=>{const s={...l.form,BaseDir:l.form.Dirs};l.loading=!0,await le(s)&&A(0)},z=()=>{const s=[],{TagsLib:t=[]}=l.form;if(t)for(var m=0;m<t.length;m++)s.push({key:t[m],label:t[m]});l.form.tagLibData=s},K=async()=>{const s=await Z();s&&(l.form=s,z())},Y=async()=>{const s=await ee();l.ipAddr=s.Data},P=async()=>{const s=await te();pe.success(s.Message)};return q(()=>{document.title="\u8A2D\u7F6E",K(),Y()}),(s,t)=>{const m=S("ElSwitch"),D=S("v-md-editor");return n(),f("div",be,[a(o(re),{"label-width":"160px",ref:"form",model:l.form,"label-position":"right"},{default:u(()=>[y("h3",null,[a(o(C),{style:{float:"left"},size:"default",type:"danger",onClick:P},{default:u(()=>[d("\u5173\u95ED\u8BA1\u7B97\u673A ")]),_:1}),y("a",{href:"http://"+l.ipAddr+":10081"},g(l.ipAddr+":10081"),9,Ve),y("span",ye,g(o(R)),1)]),y("div",ge,[a(o(ie),{modelValue:_.value,"onUpdate:modelValue":t[29]||(t[29]=e=>_.value=e),type:"card",onTabClick:M},{default:u(()=>[a(o(F),{label:"\u626B\u63CF\u8BBE\u7F6E",name:"first"},{default:u(()=>[a(m,{modelValue:l.form.IsDb,"onUpdate:modelValue":t[0]||(t[0]=e=>l.form.IsDb=e),size:"default","active-text":"\u6570\u636E\u5E93","inactive-text":"\u7B97\u6CD5"},null,8,["modelValue"]),a(o(r),{label:"\u56FE\u7247\u7C7B\u578B"},{default:u(()=>[a(o(x),{modelValue:l.form.ImageTypes,"onUpdate:modelValue":t[1]||(t[1]=e=>l.form.ImageTypes=e),multiple:"",placeholder:"\u8BF7\u9009\u62E9",style:{width:"90%"},size:"default"},{default:u(()=>[(n(!0),f(b,null,V(l.form.Types,e=>(n(),i(o(U),{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(o(r),{label:"\u6587\u6863\u7C7B\u578B"},{default:u(()=>[a(o(x),{modelValue:l.form.DocsTypes,"onUpdate:modelValue":t[2]||(t[2]=e=>l.form.DocsTypes=e),multiple:"",placeholder:"\u8BF7\u9009\u62E9",style:{width:"90%"},size:"default"},{default:u(()=>[(n(!0),f(b,null,V(l.form.Types,e=>(n(),i(o(U),{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(o(r),{label:"\u89C6\u9891\u7C7B\u578B"},{default:u(()=>[a(o(x),{modelValue:l.form.VideoTypes,"onUpdate:modelValue":t[3]||(t[3]=e=>l.form.VideoTypes=e),multiple:"",placeholder:"\u8BF7\u9009\u62E9",style:{width:"90%"},size:"default"},{default:u(()=>[(n(!0),f(b,null,V(l.form.Types,e=>(n(),i(o(U),{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(o(r),{label:"\u5B9A\u5236\u6309\u94AE"},{default:u(()=>[a(o($),{modelValue:l.form.Buttons,"onUpdate:modelValue":t[4]||(t[4]=e=>l.form.Buttons=e),size:"large"},{default:u(()=>[(n(!0),f(b,null,V(o(ne),e=>(n(),i(o(I),{key:e,label:e},{default:u(()=>[d(g(e),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(o(r),{label:"\u70ED\u95E8\u6807\u7B7E"},{default:u(()=>[y("div",De,[(n(!0),f(b,null,V(l.form.Tags,e=>(n(),i(o(v),{size:"default",key:e,closable:"",style:{"margin-right":"5px"},onClose:B=>H(e)},{default:u(()=>[d(g(e),1)]),_:2},1032,["onClose"]))),128)),a(o(de),{placement:"left",width:"400px;",trigger:"click"},{reference:u(()=>[a(o(me),{type:"success",icon:"el-icon-edit",onClick:t[5]||(t[5]=()=>{z(),l.popTagLibData=l.form.tagLibData})},{default:u(()=>[d("\u6DFB\u52A0 ")]),_:1})]),default:u(()=>[a(o(fe),{titles:["\u6807\u7B7E\u5E93","\u5DF2\u9009"],modelValue:l.form.Tags,"onUpdate:modelValue":t[6]||(t[6]=e=>l.form.Tags=e),"target-order":"push",data:l.popTagLibData},null,8,["modelValue","data"])]),_:1})])]),_:1}),a(o(r),{label:"\u5DF2\u9009\u8DEF\u5F91"},{default:u(()=>[a(o(I),{size:"default",indeterminate:l.isIndeterminateDir,modelValue:o(T),"onUpdate:modelValue":t[7]||(t[7]=e=>J(T)?T.value=e:null),onChange:N},{default:u(()=>[d("\u5168\u9009 ")]),_:1},8,["indeterminate","modelValue"]),a(o($),{modelValue:l.form.Dirs,"onUpdate:modelValue":t[8]||(t[8]=e=>l.form.Dirs=e),onChange:O},{default:u(()=>[(n(!0),f(b,null,V(l.form.DirsLib,e=>(n(),i(o(I),{size:"default",label:e,key:e},{default:u(()=>[d(g(e),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(o(r),{label:"\u5907\u6CE8"},{default:u(()=>[a(o(p),{type:"textarea",rows:8,modelValue:l.form.Remark,"onUpdate:modelValue":t[9]||(t[9]=e=>l.form.Remark=e),style:{width:"90%","margin-bottom":"20px"}},null,8,["modelValue"])]),_:1})]),_:1}),a(o(F),{label:"\u57FA\u7840\u914D\u7F6E",name:"second"},{default:u(()=>[a(o(r),{label:"\u8BF7\u6C42\u670D\u52A1\u5668"},{default:u(()=>[a(o(p),{modelValue:l.form.ControllerHost,"onUpdate:modelValue":t[10]||(t[10]=e=>l.form.ControllerHost=e),style:{width:"90%"},size:"default"},null,8,["modelValue"])]),_:1}),a(o(r),{label:"\u56FE\u7247\u670D\u52A1\u5668"},{default:u(()=>[a(o(p),{modelValue:l.form.ImageHost,"onUpdate:modelValue":t[11]||(t[11]=e=>l.form.ImageHost=e),style:{width:"90%"},size:"default"},null,8,["modelValue"])]),_:1}),a(o(r),{label:"\u6D41\u670D\u52A1\u5668"},{default:u(()=>[a(o(p),{modelValue:l.form.StreamHost,"onUpdate:modelValue":t[12]||(t[12]=e=>l.form.StreamHost=e),style:{width:"90%"},size:"default"},null,8,["modelValue"])]),_:1}),a(o(r),{label:"URL"},{default:u(()=>[a(o(p),{modelValue:l.form.BaseUrl,"onUpdate:modelValue":t[13]||(t[13]=e=>l.form.BaseUrl=e),style:{width:"90%"},size:"default"},null,8,["modelValue"])]),_:1}),a(o(r),{label:"OM-URL"},{default:u(()=>[a(o(p),{modelValue:l.form.OMUrl,"onUpdate:modelValue":t[14]||(t[14]=e=>l.form.OMUrl=e),style:{width:"90%"},size:"default"},null,8,["modelValue"])]),_:1}),a(o(r),{label:"\u679A\u4E3E\u6587\u4EF6\u7C7B\u578B"},{default:u(()=>[(n(!0),f(b,null,V(l.form.Types,e=>(n(),i(o(v),{key:e,class:"inputTag",closable:"","disable-transitions":!1,onClose:B=>w(e,"Types")},{default:u(()=>[d(g(e),1)]),_:2},1032,["onClose"]))),128)),l.typeVisible?(n(),i(o(p),{key:0,ref:"InputRef",modelValue:l.inputValue,"onUpdate:modelValue":t[15]||(t[15]=e=>l.inputValue=e),class:"ml-1 w-20",size:"small",onKeyup:t[16]||(t[16]=L(e=>E("typeVisible","Types"),["enter"])),onBlur:t[17]||(t[17]=e=>E("typeVisible","Types"))},null,8,["modelValue"])):(n(),i(o(C),{key:1,class:"button-new-tag ml-1",size:"small",onClick:t[18]||(t[18]=e=>k("typeVisible"))},{default:u(()=>[d(" + New ")]),_:1}))]),_:1}),a(o(r),{label:"\u6807\u7B7E\u5E93"},{default:u(()=>[(n(!0),f(b,null,V(l.form.TagsLib,e=>(n(),i(o(v),{key:e,class:"inputTag",closable:"","disable-transitions":!1,onClose:B=>w(e,"TagsLib")},{default:u(()=>[d(g(e),1)]),_:2},1032,["onClose"]))),128)),l.TagsLibVisible?(n(),i(o(p),{key:0,ref:"InputRef",modelValue:l.inputValue,"onUpdate:modelValue":t[19]||(t[19]=e=>l.inputValue=e),class:"ml-1 w-20",size:"small",onKeyup:t[20]||(t[20]=L(e=>E("TagsLibVisible","TagsLib"),["enter"])),onBlur:t[21]||(t[21]=e=>E("TagsLibVisible","TagsLib"))},null,8,["modelValue"])):(n(),i(o(C),{key:1,class:"button-new-tag ml-1",size:"small",onClick:t[22]||(t[22]=e=>k("TagsLibVisible"))},{default:u(()=>[d(" + New ")]),_:1}))]),_:1}),a(o(r),{label:"\u8DEF\u5F91\u5E93"},{default:u(()=>[(n(!0),f(b,null,V(l.form.DirsLib,e=>(n(),i(o(v),{key:e,class:"inputTag",closable:"","disable-transitions":!1,onClose:B=>w(e,"DirsLib")},{default:u(()=>[d(g(e),1)]),_:2},1032,["onClose"]))),128)),l.DirsLibVisible?(n(),i(o(p),{key:0,ref:"InputRef",modelValue:l.inputValue,"onUpdate:modelValue":t[23]||(t[23]=e=>l.inputValue=e),class:"ml-1 w-20",size:"small",onKeyup:t[24]||(t[24]=L(e=>E("DirsLibVisible","DirsLib"),["enter"])),onBlur:t[25]||(t[25]=e=>E("DirsLibVisible","DirsLib"))},null,8,["modelValue"])):(n(),i(o(C),{key:1,class:"button-new-tag ml-1",size:"small",onClick:t[26]||(t[26]=e=>k("DirsLibVisible"))},{default:u(()=>[d(" + New ")]),_:1}))]),_:1}),a(o(r),{label:"\u5907\u6CE8"},{default:u(()=>[a(o(p),{type:"textarea",rows:8,modelValue:l.form.Remark,"onUpdate:modelValue":t[27]||(t[27]=e=>l.form.Remark=e),style:{width:"90%","margin-bottom":"20px"}},null,8,["modelValue"])]),_:1})]),_:1}),a(o(F),{label:"\u7CFB\u7EDF\u4FE1\u606F",name:"third"},{default:u(()=>[y("div",Ee,[a(D,{modelValue:l.form.SystemHtml,"onUpdate:modelValue":t[28]||(t[28]=e=>l.form.SystemHtml=e),height:"700px"},null,8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])]),y("div",null,[a(o(C),{class:"return",type:"warning","align-text":"center",onClick:c},{default:u(()=>[d("\u8FD4\u56DE ")]),_:1})]),y("div",null,[a(o(C),{class:"submit",type:"primary","align-text":"center",onClick:G},{default:u(()=>[d("\u63D0\u4EA4 ")]),_:1})])]),_:1},8,["model"])])}}});const tl=oe(Ce,[["__scopeId","data-v-22e8cd9e"]]);export{tl as default};
