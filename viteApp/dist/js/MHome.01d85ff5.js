import{R}from"./index.ab0302fd.js";import{T as b,a as P,S as F}from"./index.ec44c66d.js";import{u as $,d as I}from"./index.017b5b63.js";import{N as E,P as K,B as H,C as L,b as U,c as A,d as S,e as d,R as T,f as h}from"./vant.168987bc.js";import{u as G}from"./vue-router.168b8979.js";import{_ as O}from"./LoadMore.vue_vue_type_script_setup_true_lang.d1f64d02.js";import{K as W,r as k,f as X,g as Y,o as i,c,Y as o,S as a,u as t,W as l,a as j,F as g,a7 as v,R as x,X as n,O as w}from"./@vue.aac442b6.js";import"./axios.647abbdf.js";import"./@kangc.e6acbb3a.js";import"./vue.8e517399.js";import"./qs.0ddf2e0d.js";import"./side-channel.db6cd5a0.js";import"./get-intrinsic.7b6078ff.js";import"./has-symbols.6b764405.js";import"./function-bind.c99feded.js";import"./has.38a7880d.js";import"./call-bind.a2ca479f.js";import"./object-inspect.a67a4921.js";import"./element-plus.7f50d77f.js";import"./lodash-es.94e8499d.js";import"./@element-plus.148c5373.js";import"./@popperjs.fd04dfd6.js";import"./@ctrl.9375a141.js";import"./dayjs.944d2b57.js";import"./async-validator.73a10b83.js";import"./memoize-one.c87f6fc8.js";import"./escape-html.86960cf8.js";import"./normalize-wheel-es.e2b4fa49.js";import"./@floating-ui.6065d27f.js";import"./pinia.78dfdeea.js";import"./vue-demi.6e7a88e9.js";import"./pinia-plugin-persist.32a83e37.js";import"./@vueuse.01f8cc47.js";import"./vue3-video-play.cdf2b84d.js";import"./highlight.js.a2669c08.js";import"./@vant.ab12266b.js";const q={class:"mainBody"},J={style:{"box-shadow":"4 4 8px grey","margin-top":"10px"}},$e=W({__name:"MHome",setup(Q){const C=k(["tag","scan","type"]),{push:y}=G(),u=$(),m=X({tableData:[],tagData:[],scanTime:[]}),f=k(!1),_=()=>{z()},N=async()=>{f.value=!0,(await R()).Code==200?(f.value=!1,h("\u6267\u884C\u6210\u529F"),_()):h.fail("\u6267\u884C\u5931\u8D25")},B=s=>{u.setPage(1),u.setKeyword(s),u.setMovieType(""),y("/mfilelist")},D=s=>{const{IsDir:r,Name:e}=s,p=!r&&e!=="\u5168\u90E8"?e:"";u.setPage(1),u.setKeyword(e),u.setMovieType(p),y("/mfilelist")},z=async()=>{const s=await b();s&&(m.tableData=s,M(),V())},M=async()=>{const s=await P();s&&(m.tagData=s.slice(0,27))},V=async()=>{const s=await F();m.scanTime=s};return Y(()=>{_()}),(s,r)=>(i(),c("div",q,[o(t(E),{title:"\u9996\u9875","left-text":"\u4E3B\u9875","left-arrow":"",onClickLeft:r[0]||(r[0]=e=>t(y)("/home"))},{right:a(()=>[o(t(H),{size:"small",round:"",plain:"",type:"primary",onClick:N},{default:a(()=>[l("\u7D22\u5F15")]),_:1})]),_:1}),o(I),o(t(K),{modelValue:f.value,"onUpdate:modelValue":r[2]||(r[2]=e=>f.value=e),onRefresh:r[3]||(r[3]=()=>{_(),f.value=!1})},{default:a(()=>[o(t(L),{modelValue:C.value,"onUpdate:modelValue":r[1]||(r[1]=e=>C.value=e)},{default:a(()=>[j("div",J,[(i(!0),c(g,null,v(m.tagData,e=>(i(),x(t(A),{key:e,content:e.Cnt},{default:a(()=>[o(t(U),{type:"warning",plain:"",round:"",onClick:p=>B(e.Name),style:{margin:"3px 6px",height:"24px",background:"#f2f3f5","border-radius":"4px"}},{default:a(()=>[l(n(e.Name)+n(e.SizeStr),1)]),_:2},1032,["onClick"])]),_:2},1032,["content"]))),128))]),o(t(S),{title:"\u626B\u63CF",name:"scan"},{default:a(()=>[(i(!0),c(g,null,v(m.scanTime,(e,p)=>(i(),x(t(T),{key:e.Name,style:w({color:p%2==0?"#07c160":"#000000",hover:"mouse",height:"30px"})},{default:a(()=>[o(t(d),{span:16,style:{"text-align":"left"}},{default:a(()=>[l(n(e.Name),1)]),_:2},1024),o(t(d),{span:4},{default:a(()=>[l(n(e.Size),1)]),_:2},1024),o(t(d),{span:4},{default:a(()=>[l(n(e.Cnt)+" ms ",1)]),_:2},1024)]),_:2},1032,["style"]))),128))]),_:1}),o(t(S),{title:"\u5206\u6790",name:"type"},{default:a(()=>[(i(!0),c(g,null,v(m.tableData,(e,p)=>(i(),x(t(T),{key:e.Name,onClick:Z=>D(e),style:w({color:p%2==0?"#07c160":"#000000",hover:"mouse",height:"30px"})},{default:a(()=>[o(t(d),{span:16,style:{"text-align":"left"}},{default:a(()=>[l(n(e.Name),1)]),_:2},1024),o(t(d),{span:4},{default:a(()=>[l(n(e.Cnt),1)]),_:2},1024),o(t(d),{span:4},{default:a(()=>[l(n(e.SizeStr),1)]),_:2},1024)]),_:2},1032,["onClick","style"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),o(O)]))}});export{$e as default};
