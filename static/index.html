<!DOCTYPE html>
<html lang="en">
<head>
    <title></title>
    <script src="static/antd433/antd.js"></script>
    <link href="static/antd433/antd.css" rel="stylesheet"/>
    <script src="static/react/react.development.js"></script>
    <script src="static/react/fetch.umd.js"></script>
    <script src="static/react/react-dom.development.js"></script>
    <script src="static/react/babel-browser.min.js"></script>


    <!-- 开发环境 -->
    <!-- <script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script> -->
</head>
<body>
<div id="playercontainer"></div>
<script type="text/javascript" src="static/js/cyberplayer.js"></script>
<script type="text/javascript">
    var player = cyberplayer("playercontainer").setup({
        width: 680,
        height: 448,
        file: "rtmp://srs.morecanai.com/live/ZH078385074?token=gwtRAdrM2xmK4x6hGgoZOf4fFi41Dh3TU",
        autostart: true,
        stretching: "uniform",
        volume: 100,
        controls: true,
        rtmp: {
            reconnecttime: 5, // rtmp直播的重连次数
            bufferlength: 1 // 缓冲多少秒之后开始播放 默认1秒
        },
        ak: "gC4c68fZAyFKhKgjjFWIhyeNDC0V9x2n"
    });
</script>

<div id="reactApp"></div>
</body>
<script type="text/babel" src="static/js/index.js"></script>
<script type="text/babel">
    class ListItem extends React.Component {

        render() {
            let dataList = [];
            let cnt = 0
            fetch("/index").then(function (response) {
                if (response.status == 200) {
                    return response.json();
                }
            }).then(function (json) {
                cnt = json["Cnt"]
                const {data: dataListTwo = []} = json
                dataList = dataListTwo
            })
            return (
                <div>
                    <h1>Hello, world!</h1>
                    <h2>现在是 {cnt}.</h2>
                </div>
            );
        }
    }

    ReactDOM.render(<ListItem/>,
        document.getElementById('reactApp')
    )


</script>

</html>
