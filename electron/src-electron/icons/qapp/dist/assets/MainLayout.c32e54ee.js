import{d as K,o as d,c as f,w as o,a as e,Q as O,e as y,f as w,t as G,r as _,g as N,h as L,i as X,j as q,k,l as C,m as Y,n as T,p as c,q as Z,s as ee,u as m,v as te,x as oe,y as le,F as H,z as U,A as ne,B as $,C as v,D as se}from"./index.3a29eae7.js";import{Q as W,a as ae,b as ue,c as re,d as de,e as ie,f as B,g as ce,P as fe,h as me}from"./PlayingVideo.cebdde1b.js";import{u as A}from"./System.d4b99f85.js";import{u as we}from"./index.27d30962.js";import{Q as pe,a as he}from"./QMenu.d88dc170.js";import{C as I}from"./ClosePopup.18fa20a0.js";import{G as R}from"./settingAPI.c05ae860.js";import"./index.d7326852.js";import"./QChip.5dea51ee.js";import"./searchAPI.28a64331.js";import"./axios.56dc1885.js";const z=K({__name:"EssentialLink",props:{title:{},caption:{default:""},link:{default:"#"},icon:{default:""}},setup(b){return(s,l)=>(d(),f(pe,{clickable:"",tag:"a",target:"_self",to:s.link},{default:o(()=>[e(he,null,{default:o(()=>[e(W,null,{default:o(()=>[s.icon?(d(),f(O,{key:0,name:s.icon},null,8,["name"])):y("",!0),w(G(s.title),1)]),_:1})]),_:1})]),_:1},8,["to"]))}});const ve={style:{width:"240px",padding:"10px"}},ye=L("div",{class:"text-h6"},"\u5173\u673A\u8BBE\u7F6E",-1),ge={class:"q-gutter-sm"},_e={key:0,style:{display:"flex","flex-direction":"row","justify-content":"space-between"}},ke={__name:"ShutdownComponent",setup(b,{expose:s}){const l=_(!1),r=A(),t=N({shutdownHH:0,shutdownMM:0,shutdownSS:0,shutdownType:"now",shutdownTime:new Date}),S=()=>{l.value=!0},p=()=>{l.value=!1},V=()=>{clearTimeout(r.shutdownTimer),console.log("view.shutdownType",t.shutdownType),t.shutdownType=="now"?(console.log("GetShutDown now"),R()):(r.shutdownLeftSecond=(t.shutdownHH||0)*3600+(t.shutdownMM||0)*60+(t.shutdownSS||0),console.log("shutdownLeftSecond",r.shutdownLeftSecond),r.shutdownTimer=setInterval(()=>{console.log(r.shutdownLeftSecond),r.shutdownLeftSecond=r.shutdownLeftSecond-1,r.shutdownLeftSecond<0&&(clearTimeout(r.shutdownTimer),R(),console.log("GetShutDown timeout"))},1e3))};return s({open:S,close:p}),(x,a)=>(d(),f(ee,{modelValue:l.value,"onUpdate:modelValue":a[5]||(a[5]=u=>l.value=u),title:"\u5173\u673A\u8BBE\u7F6E"},{default:o(()=>[e(Z,{class:"my-card"},{default:o(()=>[L("div",ve,[ye,e(X,{class:"q-pt-none"},{default:o(()=>[L("div",ge,[e(q,{modelValue:t.shutdownType,"onUpdate:modelValue":a[0]||(a[0]=u=>t.shutdownType=u),val:"now",label:"\u7ACB\u5373"},null,8,["modelValue"]),e(q,{modelValue:t.shutdownType,"onUpdate:modelValue":a[1]||(a[1]=u=>t.shutdownType=u),val:"target",label:"\u5B9A\u65F6"},null,8,["modelValue"])]),t.shutdownType=="target"?(d(),k("div",_e,[e(C,{class:"timeSelect",modelValue:t.shutdownHH,"onUpdate:modelValue":a[2]||(a[2]=u=>t.shutdownHH=u)},null,8,["modelValue"]),e(C,{class:"timeSelect",modelValue:t.shutdownMM,"onUpdate:modelValue":a[3]||(a[3]=u=>t.shutdownMM=u)},null,8,["modelValue"]),e(C,{class:"timeSelect",modelValue:t.shutdownSS,"onUpdate:modelValue":a[4]||(a[4]=u=>t.shutdownSS=u)},null,8,["modelValue"])])):y("",!0)]),_:1})]),e(Y,{align:"right"},{default:o(()=>[T((d(),f(c,{flat:"",color:"primary"},{default:o(()=>[w("\u53D6\u6D88")]),_:1})),[[I]]),T((d(),f(c,{flat:"",color:"primary",onClick:V},{default:o(()=>[w("\u786E\u5B9A")]),_:1})),[[I]])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},qe={__name:"MainLayout",setup(b){const s=A(),l=we(),r=_(null),t=N({fullscreen:!1}),S=m(()=>l.screen.width>1e3),p=m(()=>l.platform.is.electron),V=m(()=>l.platform.is.mobile?l.screen.width:l.screen.width/2),x=m(()=>s.Playing||{}),a=()=>{window.close()},u=()=>{window.electron.hideMainWindow()},F=()=>{p.value?window.electron.maxMainWindow():t.fullscreen?l.fullscreen.exit():l.fullscreen.request(),t.fullscreen=!t.fullscreen,console.log(t.fullscreen)},M=m(()=>s.shutdownLeftSecond?`${Math.floor(s.shutdownLeftSecond/3600)} \u65F6 ${Math.floor(s.shutdownLeftSecond/60%60)} \u5206 ${Math.floor(s.shutdownLeftSecond%60)} \u79D2`:null),Q=_(null);te(x,h=>{h&&h.Id?Q.value.open(h):Q.value.stop()});const g=_(!1),D=m(()=>oe().path),j=()=>{window.location.reload()},E=()=>{r.value.open()},P=[{title:"\u9996\u9875",caption:"quasar.dev",icon:"home",link:"/"},{title:"\u641C\u7D22",caption:"github.com/quasarframework",icon:"search",link:"/search"},{title:"\u56FE\u9274",caption:"chat.quasar.dev",icon:"image",link:"/picture"},{title:"\u8BBE\u7F6E",caption:"chat.quasar.dev",icon:"settings",link:"/setting"},{title:"\u7CFB\u7EDF",caption:"forum.quasar.dev",icon:"chat",link:"/system"}];return(h,i)=>{const J=le("router-view");return d(),k("div",null,[e(ae,{view:"hHh Lpr lff",style:{height:"100vh"},class:"shadow-2 rounded-borders"},{default:o(()=>[e(ue,{reveal:"",class:"bg-black"},{default:o(()=>[e(re,null,{default:o(()=>[e(c,{flat:"",onClick:i[0]||(i[0]=n=>g.value=!g.value),round:"",dense:"",icon:"menu"}),e(de,{style:{"-webkit-app-region":"drag"}},{default:o(()=>[w(" \u6587\u4EF6\u641C\u7D22 ")]),_:1}),(d(),k(H,null,U(P,n=>T(e(z,$({key:n.title},n,{style:{color:D.value===n.link?"red":"",scale:1.2}}),null,16,["style"]),[[ne,S.value]])),64)),e(ie),M.value?(d(),f(c,{key:0,dense:"",flat:"",color:"red"},{default:o(()=>[w("\u5173\u673A\u5012\u8BA1\u65F6\uFF1A"+G(M.value),1)]),_:1})):y("",!0),e(c,{dense:"",flat:"",size:"lg",icon:"refresh",onClick:j}),e(c,{dense:"",flat:"",icon:"ti-timer",onClick:E}),e(c,{onClick:i[1]||(i[1]=n=>v(l).dark.set(!v(l).dark.mode)),dense:"",icon:"ti-exchange-vertical",flat:"",color:v(l).dark.mode?"white":"grey"},null,8,["color"]),p.value?(d(),f(c,{key:1,dense:"",flat:"",icon:"ti-minus",onClick:u})):y("",!0),e(c,{flat:"",dense:"",size:"lg",icon:t.fullscreen?"fullscreen_exit":"fullscreen",modelValue:t.fullscreen,"onUpdate:modelValue":i[2]||(i[2]=n=>t.fullscreen=n),onClick:F},null,8,["icon","modelValue"]),p.value?(d(),f(c,{key:2,dense:"",flat:"",size:"lg",icon:"ti-close",onClick:a})):y("",!0)]),_:1})]),_:1}),e(B,{modelValue:g.value,"onUpdate:modelValue":i[3]||(i[3]=n=>g.value=n),width:200,breakpoint:700,bordered:""},{default:o(()=>[e(se,{class:"fit"},{default:o(()=>[e(ce,null,{default:o(()=>[e(W,{header:""},{default:o(()=>[w(" \u4F60\u7684\u641C\u7D22\u5DE5\u5177 ")]),_:1}),(d(),k(H,null,U(P,n=>e(z,$({key:n.title},n,{style:{color:D.value===n.link?"red":"",scale:1.2}}),null,16,["style"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(B,{side:"right",width:V.value,modelValue:v(s).drawerRight,"onUpdate:modelValue":i[4]||(i[4]=n=>v(s).drawerRight=n),bordered:"",class:"bg-grey-3"},{default:o(()=>[e(fe,{ref_key:"vue3VideoPlayRef",ref:Q,mode:"drawer"},null,512)]),_:1},8,["width","modelValue"]),e(me,null,{default:o(()=>[e(J)]),_:1})]),_:1}),e(ke,{ref_key:"shutdown",ref:r},null,512)])}}};export{qe as default};
