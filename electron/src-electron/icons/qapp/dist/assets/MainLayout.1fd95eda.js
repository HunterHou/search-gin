import{d as O,o as d,c as m,w as o,a as e,Q as X,e as _,f as p,t as N,r as g,g as E,h as L,i as Y,j as q,k as S,l as C,m as Z,n as b,p as i,q as ee,s as te,u as w,v as oe,x as le,y as ne,F as H,z as $,A as se,B as U,C as y,D as ae}from"./index.8936b246.js";import{Q as G,a as ue,b as re,c as de,d as ie,e as ce,f as R,g as fe,P as me,h as we}from"./PlayingVideo.89506df5.js";import{u as W}from"./System.00672990.js";import{u as pe}from"./index.aed9a47a.js";import{Q as he,a as ve}from"./QMenu.6b878021.js";import{C as B,_ as ye}from"./ListEdit.fed6fd77.js";import{G as I}from"./settingAPI.ca326534.js";import"./index.7a81fcec.js";import"./QChip.7badd2cc.js";import"./searchAPI.dedeae16.js";import"./axios.f4fdd895.js";import"./Setting.9fd0a06c.js";import"./use-dialog-plugin-component.bb0df393.js";const z=O({__name:"EssentialLink",props:{title:{},caption:{default:""},link:{default:"#"},icon:{default:""}},setup(T){return(c,a)=>(d(),m(he,{clickable:"",tag:"a",target:"_self",to:c.link},{default:o(()=>[e(ve,null,{default:o(()=>[e(G,null,{default:o(()=>[c.icon?(d(),m(X,{key:0,name:c.icon},null,8,["name"])):_("",!0),p(N(c.title),1)]),_:1})]),_:1})]),_:1},8,["to"]))}});const ge={style:{width:"240px",padding:"10px"}},_e=L("div",{class:"text-h6"},"\u5173\u673A\u8BBE\u7F6E",-1),ke={class:"q-gutter-sm"},Se={key:0,style:{display:"flex","flex-direction":"row","justify-content":"space-between"}},Ve={__name:"ShutdownComponent",setup(T,{expose:c}){const a=g(!1),t=W(),l=E({shutdownHH:0,shutdownMM:0,shutdownSS:0,shutdownType:"now",shutdownTime:new Date}),f=()=>{a.value=!0},V=()=>{a.value=!1},h=()=>{clearTimeout(t.shutdownTimer),console.log("view.shutdownType",l.shutdownType),l.shutdownType=="now"?(console.log("GetShutDown now"),I()):(t.shutdownLeftSecond=(l.shutdownHH||0)*3600+(l.shutdownMM||0)*60+(l.shutdownSS||0),console.log("shutdownLeftSecond",t.shutdownLeftSecond),t.shutdownTimer=setInterval(()=>{console.log(t.shutdownLeftSecond),t.shutdownLeftSecond=t.shutdownLeftSecond-1,t.shutdownLeftSecond<0&&(clearTimeout(t.shutdownTimer),I(),console.log("GetShutDown timeout"))},1e3))};return c({open:f,close:V}),(x,s)=>(d(),m(te,{modelValue:a.value,"onUpdate:modelValue":s[5]||(s[5]=u=>a.value=u),title:"\u5173\u673A\u8BBE\u7F6E"},{default:o(()=>[e(ee,{class:"my-card"},{default:o(()=>[L("div",ge,[_e,e(Y,{class:"q-pt-none"},{default:o(()=>[L("div",ke,[e(q,{modelValue:l.shutdownType,"onUpdate:modelValue":s[0]||(s[0]=u=>l.shutdownType=u),val:"now",label:"\u7ACB\u5373"},null,8,["modelValue"]),e(q,{modelValue:l.shutdownType,"onUpdate:modelValue":s[1]||(s[1]=u=>l.shutdownType=u),val:"target",label:"\u5B9A\u65F6"},null,8,["modelValue"])]),l.shutdownType=="target"?(d(),S("div",Se,[e(C,{class:"timeSelect",modelValue:l.shutdownHH,"onUpdate:modelValue":s[2]||(s[2]=u=>l.shutdownHH=u)},null,8,["modelValue"]),e(C,{class:"timeSelect",modelValue:l.shutdownMM,"onUpdate:modelValue":s[3]||(s[3]=u=>l.shutdownMM=u)},null,8,["modelValue"]),e(C,{class:"timeSelect",modelValue:l.shutdownSS,"onUpdate:modelValue":s[4]||(s[4]=u=>l.shutdownSS=u)},null,8,["modelValue"])])):_("",!0)]),_:1})]),e(Z,{align:"right"},{default:o(()=>[b((d(),m(i,{flat:"",color:"primary"},{default:o(()=>[p("\u53D6\u6D88")]),_:1})),[[B]]),b((d(),m(i,{flat:"",color:"primary",onClick:h},{default:o(()=>[p("\u786E\u5B9A")]),_:1})),[[B]])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Re={__name:"MainLayout",setup(T){const c=g(null),a=W(),t=pe(),l=g(null),f=E({fullscreen:!1}),V=w(()=>t.screen.width>1e3),h=w(()=>t.platform.is.electron),x=w(()=>t.platform.is.mobile?t.screen.width:t.screen.width/2),s=w(()=>a.Playing||{}),u=()=>{window.close()},A=()=>{window.electron.hideMainWindow()},F=()=>{h.value?window.electron.maxMainWindow():f.fullscreen?t.fullscreen.exit():t.fullscreen.request(),f.fullscreen=!f.fullscreen,console.log(f.fullscreen)},M=w(()=>a.shutdownLeftSecond?`${Math.floor(a.shutdownLeftSecond/3600)} \u65F6 ${Math.floor(a.shutdownLeftSecond/60%60)} \u5206 ${Math.floor(a.shutdownLeftSecond%60)} \u79D2`:null),Q=g(null);oe(s,v=>{v&&v.Id?Q.value.open(v):Q.value.stop()});const k=g(!1),D=w(()=>le().path),j=()=>{window.location.reload()},J=()=>{l.value.open()},P=[{title:"\u9996\u9875",caption:"quasar.dev",icon:"home",link:"/"},{title:"\u641C\u7D22",caption:"github.com/quasarframework",icon:"search",link:"/search"},{title:"\u56FE\u9274",caption:"chat.quasar.dev",icon:"image",link:"/picture"},{title:"\u8BBE\u7F6E",caption:"chat.quasar.dev",icon:"settings",link:"/setting"},{title:"\u7CFB\u7EDF",caption:"forum.quasar.dev",icon:"chat",link:"/system"}];return(v,r)=>{const K=ne("router-view");return d(),S("div",null,[e(ue,{view:"hHh Lpr lff",style:{height:"100vh"},class:"shadow-2 rounded-borders"},{default:o(()=>[e(re,{reveal:"",class:"bg-black"},{default:o(()=>[e(de,null,{default:o(()=>[e(i,{flat:"",onClick:r[0]||(r[0]=n=>k.value=!k.value),round:"",dense:"",icon:"menu"}),e(ie,{style:{"-webkit-app-region":"drag"}},{default:o(()=>[p(" \u6587\u4EF6\u641C\u7D22 ")]),_:1}),(d(),S(H,null,$(P,n=>b(e(z,U({key:n.title},n,{style:{color:D.value===n.link?"red":"",scale:1.2}}),null,16,["style"]),[[se,V.value]])),64)),e(ce),M.value?(d(),m(i,{key:0,dense:"",flat:"",color:"red"},{default:o(()=>[p("\u5173\u673A\u5012\u8BA1\u65F6\uFF1A"+N(M.value),1)]),_:1})):_("",!0),e(i,{dense:"",flat:"",size:"lg",icon:"refresh",onClick:j}),e(i,{dense:"",flat:"",size:"md",icon:"ti-star",onClick:r[1]||(r[1]=n=>c.value.open({tabName:"history"}))}),e(i,{dense:"",flat:"",icon:"ti-timer",onClick:J}),e(i,{onClick:r[2]||(r[2]=n=>y(t).dark.set(!y(t).dark.mode)),dense:"",icon:"ti-exchange-vertical",flat:"",color:y(t).dark.mode?"white":"grey"},null,8,["color"]),h.value?(d(),m(i,{key:1,dense:"",flat:"",icon:"ti-minus",onClick:A})):_("",!0),e(i,{flat:"",dense:"",size:"lg",icon:f.fullscreen?"fullscreen_exit":"fullscreen",modelValue:f.fullscreen,"onUpdate:modelValue":r[3]||(r[3]=n=>f.fullscreen=n),onClick:F},null,8,["icon","modelValue"]),h.value?(d(),m(i,{key:2,dense:"",flat:"",size:"lg",icon:"ti-close",onClick:u})):_("",!0)]),_:1})]),_:1}),e(R,{modelValue:k.value,"onUpdate:modelValue":r[4]||(r[4]=n=>k.value=n),width:200,breakpoint:700,bordered:""},{default:o(()=>[e(ae,{class:"fit"},{default:o(()=>[e(fe,null,{default:o(()=>[e(G,{header:""},{default:o(()=>[p(" \u4F60\u7684\u641C\u7D22\u5DE5\u5177 ")]),_:1}),(d(),S(H,null,$(P,n=>e(z,U({key:n.title},n,{style:{color:D.value===n.link?"red":"",scale:1.2}}),null,16,["style"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(R,{side:"right",width:x.value,modelValue:y(a).drawerRight,"onUpdate:modelValue":r[5]||(r[5]=n=>y(a).drawerRight=n),bordered:"",class:"bg-grey-3"},{default:o(()=>[e(me,{ref_key:"vue3VideoPlayRef",ref:Q,mode:"drawer"},null,512)]),_:1},8,["width","modelValue"]),e(we,null,{default:o(()=>[e(K)]),_:1})]),_:1}),e(Ve,{ref_key:"shutdown",ref:l},null,512),e(ye,{ref_key:"listEditRef",ref:c},null,512)])}}};export{Re as default};
