import{r as b,g as S,o as u,c as y,w as n,s as F,a as l,h as s,t as f,k as x,z as V,C as Q,F as D,q as I,ap as T,aq as z,Z as N,l as K,p as P,e as R,am as v}from"./index.3155b6e6.js";import{Q as h}from"./QPageSticky.b9cbc98d.js";import{a as B,G as U,Q as k,e as $}from"./index.413cc274.js";import{u as q,Q as E}from"./use-dialog-plugin-component.b9191d90.js";import{Q as C}from"./QChip.eeeb948d.js";import{axios as M}from"./axios.4a46297c.js";import{u as H}from"./System.3d725ab8.js";const j=async w=>await M.post("/api/actressList",w),L={style:{"margin-top":"0",height:"96%",overflow:"auto"}},A={__name:"PictureInfo",emits:[...q.emits],setup(w,{expose:m}){const d=b(!1),i=S({item:{},prewiewImages:[]}),e=r=>{const t=r;console.log(r),i.prewiewImages=[],i.item={...t},p.value.show(),i.prewiewImages=t.Images},{dialogRef:p,onDialogHide:g}=q(),c=()=>{d.value=!1,g()};return m({open:e}),(r,t)=>(u(),y(F,{ref_key:"dialogRef",ref:p,onEscapeKey:c,onBeforeHide:c,onHide:c,style:{width:"80vw !important"},"model-value":d.value,"onUpdate:modelValue":t[0]||(t[0]=a=>d.value=a)},{default:n(()=>[l(I,{class:"q-dialog-plugin q-pa-md",style:{color:"white",height:"100%",width:"100%",padding:"0 4px",lineHeight:"32px",maxWidth:"80vw !important"}},{default:n(()=>[s("div",L,[s("h3",null,f(i.item.Name)+f(i.item.SizeStr),1),(u(!0),x(D,null,V(i.prewiewImages,a=>(u(),y(B,{fit:"fit",key:a,src:Q(U)(a),style:{width:"100%",height:"auto"}},null,8,["src"]))),128))])]),_:1})]),_:1},8,["model-value"]))}};const G={class:"q-pa-md"},O={class:"row justify-center q-gutter-sm"},W={style:{display:"flex","flex-direction":"row","flex-wrap":"wrap"}},Z={style:{padding:"0",margin:"0","background-color":"rgba(0, 0, 0, 0)",display:"flex","flex-direction":"row","justify-content":"space-between",width:"100%"}},J=["onClick"],X=["onClick"],Y={__name:"PicturePage",setup(w){const{push:m}=z(),d=b(null),i=H(),e=S({currentData:{},queryParam:{Keyword:"",MovieType:"",OnlyRepeat:!1,Page:1,PageSize:50,SortField:"MTime",SortType:"desc"},resultData:{},fullscreen:!1}),p=t=>{i.FileSearchParam.Keyword=t,console.log(t),m({path:"/search",query:{Keyword:t,from:"index"}})},g=t=>{console.log("view.queryParam.Page",t),r()},c=t=>{e.queryParam.Page=e.queryParam.Page+t,g()},r=async()=>{const{data:t}=await j(e.queryParam);console.log(t),e.resultData=t};return N(()=>{document.title="\u56FE\u9274",r()}),(t,a)=>(u(),x("div",G,[l(h,{style:{"z-index":"9"},position:"left",offset:[0,0]},{default:n(()=>[e.queryParam.Page>1?(u(),y(P,{key:0,round:"",class:"page-sticky",color:"amber","text-color":"black",icon:"keyboard_arrow_left",onClick:a[0]||(a[0]=o=>c(-1))})):R("",!0)]),_:1}),l(h,{style:{"z-index":"9"},position:"right",offset:[10,10]},{default:n(()=>[l(P,{round:"",class:"page-sticky",color:"secondary","text-color":"black",icon:"keyboard_arrow_right",onClick:a[1]||(a[1]=o=>c(1))})]),_:1}),s("div",O,[l(k,{modelValue:e.queryParam.SortField,"onUpdate:modelValue":[a[2]||(a[2]=o=>e.queryParam.SortField=o),r],"toggle-color":"primary",options:[{label:"\u65F6",value:"MTime"},{label:"\u5BB9",value:"Size"},{label:"\u540D",value:"Code"}]},null,8,["modelValue"]),l(k,{modelValue:e.queryParam.SortType,"onUpdate:modelValue":[a[3]||(a[3]=o=>e.queryParam.SortType=o),r],"toggle-color":"primary",options:[{label:"\u6B63",value:"asc"},{label:"\u5012",value:"desc"}]},null,8,["modelValue"]),l(K,{modelValue:e.queryParam.Keyword,"onUpdate:modelValue":[a[4]||(a[4]=o=>e.queryParam.Keyword=o),r],dense:!0,filled:"",clearable:""},null,8,["modelValue"]),l(E,{modelValue:e.queryParam.Page,"onUpdate:modelValue":[a[5]||(a[5]=o=>e.queryParam.Page=o),g],color:"purple",ellipses:!1,max:e.resultData.TotalCnt||0,"max-pages":6,"boundary-numbers":""},null,8,["modelValue","max"])]),s("div",W,[(u(!0),x(D,null,V(e.resultData.Data,o=>(u(),y(I,{class:"q-ma-sm example-item",key:o.Id},{default:n(()=>[l(B,{fit:"fill",src:Q($)(o.Name),class:"item-img",onClick:_=>d.value.open(o)},{default:n(()=>{var _;return[s("div",Z,[s("div",{onClick:v(()=>{},["stop"]),style:{display:"flex","flex-direction":"column","justify-content":"flex-start",width:"fit-content"}},[l(C,{square:"",color:"red","text-color":"white",style:{"margin-left":"0",padding:"0 4px"}},{default:n(()=>[s("span",null,f(o.SizeStr),1)]),_:2},1024)],8,J),l(C,{onClick:v(()=>{},["stop"]),square:"",color:"green","text-color":"white",style:{width:"fit-content","margin-right":"0",padding:"0 6px"}},{default:n(()=>[s("span",null,f(o.Cnt),1)]),_:2},1032,["onClick"])]),s("div",{class:"absolute-bottom text-body1 text-center",style:{padding:"4px"},onClick:v(()=>{},["stop"])},[l(P,{flat:"",style:{color:"#59d89d"},label:((_=o.Name)==null?void 0:_.substring(0,10))||"\u672A\u77E5",onClick:ee=>p(o.Name)},null,8,["label","onClick"])],8,X)]}),_:2},1032,["src","onClick"])]),_:2},1024))),128))]),l(A,{ref_key:"fileEditRef",ref:d},null,512)]))}};var ne=T(Y,[["__scopeId","data-v-e42d95de"]]);export{ne as default};
