import{r as b,g as S,o as u,c as y,w as n,s as F,a as l,h as s,t as f,k as x,z as V,C as Q,F as D,q as I,ap as T,aq as z,Z as N,l as K,p as P,e as R,am as v}from"./index.6b10a76a.js";import{Q as h}from"./QPageSticky.7e6aee3a.js";import{a as B,G as U,Q as k,e as $}from"./index.d90e82ac.js";import{u as q,Q as E}from"./use-dialog-plugin-component.d0e273c3.js";import{Q as C}from"./QChip.63eed739.js";import{axios as M}from"./axios.fc0787d8.js";import{u as H}from"./System.2758c8a8.js";const j=async w=>await M.post("/api/actressList",w),L={style:{"margin-top":"0",height:"96%",overflow:"auto"}},A={__name:"PictureInfo",emits:[...q.emits],setup(w,{expose:m}){const d=b(!1),i=S({item:{},prewiewImages:[]}),e=r=>{i.prewiewImages=[],p.value.show(),i.item=r,i.prewiewImages=r.Images},{dialogRef:p,onDialogHide:g}=q(),c=()=>{d.value=!1,g()};return m({open:e}),(r,o)=>(u(),y(F,{ref_key:"dialogRef",ref:p,onEscapeKey:c,onBeforeHide:c,onHide:c,style:{width:"80vw !important"},"model-value":d.value,"onUpdate:modelValue":o[0]||(o[0]=t=>d.value=t)},{default:n(()=>[l(I,{class:"q-dialog-plugin q-pa-md",style:{color:"white",height:"100%",width:"100%",padding:"0 4px",lineHeight:"32px",maxWidth:"80vw !important"}},{default:n(()=>[s("div",L,[s("h3",null,f(i.item.Name)+f(i.item.SizeStr),1),(u(!0),x(D,null,V(i.prewiewImages,t=>(u(),y(B,{fit:"fit",key:t,src:Q(U)(t),style:{width:"100%",height:"auto"}},null,8,["src"]))),128))])]),_:1})]),_:1},8,["model-value"]))}};const G={class:"q-pa-md"},O={class:"row justify-center q-gutter-sm"},W={style:{display:"flex","flex-direction":"row","flex-wrap":"wrap"}},Z={style:{padding:"0",margin:"0","background-color":"rgba(0, 0, 0, 0)",display:"flex","flex-direction":"row","justify-content":"space-between",width:"100%"}},J=["onClick"],X=["onClick"],Y={__name:"PicturePage",setup(w){const{push:m}=z(),d=b(null),i=H(),e=S({currentData:{},queryParam:{Keyword:"",MovieType:"",OnlyRepeat:!1,Page:1,PageSize:50,SortField:"MTime",SortType:"desc"},resultData:{},fullscreen:!1}),p=o=>{i.FileSearchParam.Keyword=o,console.log(o),m({path:"/search",query:{Keyword:o,from:"index"}})},g=o=>{console.log("view.queryParam.Page",o),r()},c=o=>{e.queryParam.Page=e.queryParam.Page+o,g()},r=async()=>{const{data:o}=await j(e.queryParam);console.log(o),e.resultData=o};return N(()=>{document.title="\u56FE\u9274",r()}),(o,t)=>(u(),x("div",G,[l(h,{style:{"z-index":"9"},position:"left",offset:[0,0]},{default:n(()=>[e.queryParam.Page>1?(u(),y(P,{key:0,round:"",class:"page-sticky",color:"amber","text-color":"black",icon:"keyboard_arrow_left",onClick:t[0]||(t[0]=a=>c(-1))})):R("",!0)]),_:1}),l(h,{style:{"z-index":"9"},position:"right",offset:[10,10]},{default:n(()=>[l(P,{round:"",class:"page-sticky",color:"secondary","text-color":"black",icon:"keyboard_arrow_right",onClick:t[1]||(t[1]=a=>c(1))})]),_:1}),s("div",O,[l(k,{modelValue:e.queryParam.SortField,"onUpdate:modelValue":[t[2]||(t[2]=a=>e.queryParam.SortField=a),r],"toggle-color":"primary",options:[{label:"\u65F6",value:"MTime"},{label:"\u5BB9",value:"Size"},{label:"\u540D",value:"Code"}]},null,8,["modelValue"]),l(k,{modelValue:e.queryParam.SortType,"onUpdate:modelValue":[t[3]||(t[3]=a=>e.queryParam.SortType=a),r],"toggle-color":"primary",options:[{label:"\u6B63",value:"asc"},{label:"\u5012",value:"desc"}]},null,8,["modelValue"]),l(K,{modelValue:e.queryParam.Keyword,"onUpdate:modelValue":[t[4]||(t[4]=a=>e.queryParam.Keyword=a),r],dense:!0,filled:"",clearable:""},null,8,["modelValue"]),l(E,{modelValue:e.queryParam.Page,"onUpdate:modelValue":[t[5]||(t[5]=a=>e.queryParam.Page=a),g],color:"purple",ellipses:!1,max:e.resultData.TotalCnt||0,"max-pages":6,"boundary-numbers":""},null,8,["modelValue","max"])]),s("div",W,[(u(!0),x(D,null,V(e.resultData.Data,a=>(u(),y(I,{class:"q-ma-sm example-item",key:a.Id},{default:n(()=>[l(B,{fit:"fill",src:Q($)(a.Name),class:"item-img",onClick:_=>d.value.open(a)},{default:n(()=>{var _;return[s("div",Z,[s("div",{onClick:v(()=>{},["stop"]),style:{display:"flex","flex-direction":"column","justify-content":"flex-start",width:"fit-content"}},[l(C,{square:"",color:"red","text-color":"white",style:{"margin-left":"0",padding:"0 4px"}},{default:n(()=>[s("span",null,f(a.SizeStr),1)]),_:2},1024)],8,J),l(C,{onClick:v(()=>{},["stop"]),square:"",color:"green","text-color":"white",style:{width:"fit-content","margin-right":"0",padding:"0 6px"}},{default:n(()=>[s("span",null,f(a.Cnt),1)]),_:2},1032,["onClick"])]),s("div",{class:"absolute-bottom text-body1 text-center",style:{padding:"4px"},onClick:v(()=>{},["stop"])},[l(P,{flat:"",style:{color:"#59d89d"},label:((_=a.Name)==null?void 0:_.substring(0,10))||"\u672A\u77E5",onClick:ee=>p(a.Name)},null,8,["label","onClick"])],8,X)]}),_:2},1032,["src","onClick"])]),_:2},1024))),128))]),l(A,{ref_key:"fileEditRef",ref:d},null,512)]))}};var ne=T(Y,[["__scopeId","data-v-e42d95de"]]);export{ne as default};
