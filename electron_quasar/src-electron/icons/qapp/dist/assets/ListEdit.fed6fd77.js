import{Q as et,a as J,b as tt,c as W,d as ge,e as nt,f as at}from"./Setting.9fd0a06c.js";import{Q as ot}from"./index.7a81fcec.js";import{E as Ve,K as Ne,G as _,aj as st,ay as lt,az as je,S as rt,P as it,T as ut,R as ct,r as ve,aA as ke,V as dt,u as O,v as ae,N as ft,aB as Te,n as oe,A as gt,H as mt,Q as pe,af as ht,aC as yt,aD as vt,aE as pt,aF as Dt,aG as Ue,aH as I,aI as Ze,aJ as Mt,aK as bt,aq as wt,g as _e,o as w,c as F,w as y,s as St,a as d,h as S,C as T,p as x,f as C,e as Z,t as b,l as V,k as Y,z as A,F as z,aL as Ce,q as Ye,i as It,ag as xt,ar as kt}from"./index.8936b246.js";import{Q as R,g as me}from"./PlayingVideo.89506df5.js";import{Q as De,a as B}from"./QMenu.6b878021.js";import{u as Tt}from"./index.aed9a47a.js";import{u as $e}from"./use-dialog-plugin-component.bb0df393.js";import{a as qe,b as _t,C as Ct,T as Yt,c as $t,d as qt,D as He,A as Ht,R as Ot,S as Lt,F as Et}from"./searchAPI.dedeae16.js";import{P as Ft}from"./settingAPI.ca326534.js";import{u as Pt}from"./System.00672990.js";var At=Ve({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:s}){let n=!1,l,a,v=null,i=null,f,k;function c(){l&&l(),l=null,n=!1,v!==null&&(clearTimeout(v),v=null),i!==null&&(clearTimeout(i),i=null),a!==void 0&&a.removeEventListener("transitionend",f),f=null}function h(D,q,L){q!==void 0&&(D.style.height=`${q}px`),D.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,n=!0,l=L}function r(D,q){D.style.overflowY=null,D.style.height=null,D.style.transition=null,c(),q!==k&&s(q)}function M(D,q){let L=0;a=D,n===!0?(c(),L=D.offsetHeight===D.scrollHeight?0:void 0):(k="hide",D.style.overflowY="hidden"),h(D,L,q),v=setTimeout(()=>{v=null,D.style.height=`${D.scrollHeight}px`,f=E=>{i=null,(Object(E)!==E||E.target===D)&&r(D,"show")},D.addEventListener("transitionend",f),i=setTimeout(f,e.duration*1.1)},100)}function $(D,q){let L;a=D,n===!0?c():(k="show",D.style.overflowY="hidden",L=D.scrollHeight),h(D,L,q),v=setTimeout(()=>{v=null,D.style.height=0,f=E=>{i=null,(Object(E)!==E||E.target===D)&&r(D,"hide")},D.addEventListener("transitionend",f),i=setTimeout(f,e.duration*1.1)},100)}return Ne(()=>{n===!0&&c()}),()=>_(st,{css:!1,appear:e.appear,onEnter:M,onLeave:$},t.default)}});const N=lt({}),zt=Object.keys(je);var Bt=Ve({name:"QExpansionItem",props:{...je,...rt,...it,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...ut,"click","afterShow","afterHide"],setup(e,{slots:t,emit:s}){const{proxy:{$q:n}}=ft(),l=ct(e,n),a=ve(e.modelValue!==null?e.modelValue:e.defaultOpened),v=ve(null),i=ke(),{show:f,hide:k,toggle:c}=dt({showing:a});let h,r;const M=O(()=>`q-expansion-item q-item-type q-expansion-item--${a.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),$=O(()=>{if(e.contentInsetLevel===void 0)return null;const p=n.lang.rtl===!0?"Right":"Left";return{["padding"+p]:e.contentInsetLevel*56+"px"}}),D=O(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),q=O(()=>{const p={};return zt.forEach(g=>{p[g]=e[g]}),p}),L=O(()=>D.value===!0||e.expandIconToggle!==!0),E=O(()=>e.expandedIcon!==void 0&&a.value===!0?e.expandedIcon:e.expandIcon||n.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),se=O(()=>e.disable!==!0&&(D.value===!0||e.expandIconToggle===!0)),le=O(()=>({expanded:a.value===!0,detailsId:e.targetUid,toggle:c,show:f,hide:k})),j=O(()=>{const p=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:n.lang.label[a.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":a.value===!0?"true":"false","aria-controls":i,"aria-label":p}});ae(()=>e.group,p=>{r!==void 0&&r(),p!==void 0&&X()});function Q(p){D.value!==!0&&c(p),s("click",p)}function H(p){p.keyCode===13&&K(p,!0)}function K(p,g){g!==!0&&v.value!==null&&v.value.focus(),c(p),ht(p)}function re(){s("afterShow")}function ie(){s("afterHide")}function X(){h===void 0&&(h=ke()),a.value===!0&&(N[e.group]=h);const p=ae(a,u=>{u===!0?N[e.group]=h:N[e.group]===h&&delete N[e.group]}),g=ae(()=>N[e.group],(u,o)=>{o===h&&u!==void 0&&u!==h&&k()});r=()=>{p(),g(),N[e.group]===h&&delete N[e.group],r=void 0}}function G(){const p={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},g=[_(pe,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&a.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:E.value})];return se.value===!0&&(Object.assign(p,{tabindex:0,...j.value,onClick:K,onKeyup:H}),g.unshift(_("div",{ref:v,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),_(B,p,()=>g)}function ue(){let p;return t.header!==void 0?p=[].concat(t.header(le.value)):(p=[_(B,()=>[_(R,{lines:e.labelLines},()=>e.label||""),e.caption?_(R,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&p[e.switchToggleSide===!0?"push":"unshift"](_(B,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>_(pe,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&p[e.switchToggleSide===!0?"unshift":"push"](G()),p}function ce(){const p={ref:"item",style:e.headerStyle,class:e.headerClass,dark:l.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return L.value===!0&&(p.clickable=!0,p.onClick=Q,Object.assign(p,D.value===!0?q.value:j.value)),_(De,p,ue)}function de(){return oe(_("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:$.value,id:i},mt(t.default)),[[gt,a.value]])}function fe(){const p=[ce(),_(At,{duration:e.duration,onShow:re,onHide:ie},de)];return e.expandSeparator===!0&&p.push(_(Te,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:l.value}),_(Te,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:l.value})),p}return e.group!==void 0&&X(),Ne(()=>{r!==void 0&&r()}),()=>_("div",{class:M.value},[_("div",{class:"q-expansion-item__container relative-position"},fe())])}});function Oe(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var Le=yt({name:"close-popup",beforeMount(e,{value:t}){const s={depth:Oe(t),handler(n){s.depth!==0&&setTimeout(()=>{const l=vt(e);l!==void 0&&pt(l,n,s.depth)})},handlerKey(n){Dt(n,13)===!0&&s.handler(n)}};e.__qclosepopup=s,e.addEventListener("click",s.handler),e.addEventListener("keyup",s.handlerKey)},updated(e,{value:t,oldValue:s}){t!==s&&(e.__qclosepopup.depth=Oe(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const ee=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Qt(e){return Nt(e)===0}function Vt(e,t){return t<=6?31:t<=11||Qt(e)?30:29}function Nt(e){const t=ee.length;let s=ee[0],n,l,a,v,i;if(e<s||e>=ee[t-1])throw new Error("Invalid Jalaali year "+e);for(i=1;i<t&&(n=ee[i],l=n-s,!(e<n));i+=1)s=n;return v=e-s,l-v<6&&(v=v-l+jt(l+4,33)*33),a=Ee(Ee(v+1,33)-1,4),a===-1&&(a=4),a}function jt(e,t){return~~(e/t)}function Ee(e,t){return e-~~(e/t)*t}const Re=864e5,Ut=36e5,Me=6e4,Ke="YYYY-MM-DDTHH:mm:ss.SSSZ",Zt=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Rt=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,he={};function Kt(e,t){const s="("+t.days.join("|")+")",n=e+s;if(he[n]!==void 0)return he[n];const l="("+t.daysShort.join("|")+")",a="("+t.months.join("|")+")",v="("+t.monthsShort.join("|")+")",i={};let f=0;const k=e.replace(Rt,h=>{switch(f++,h){case"YY":return i.YY=f,"(-?\\d{1,2})";case"YYYY":return i.YYYY=f,"(-?\\d{1,4})";case"M":return i.M=f,"(\\d{1,2})";case"MM":return i.M=f,"(\\d{2})";case"MMM":return i.MMM=f,v;case"MMMM":return i.MMMM=f,a;case"D":return i.D=f,"(\\d{1,2})";case"Do":return i.D=f++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return i.D=f,"(\\d{2})";case"H":return i.H=f,"(\\d{1,2})";case"HH":return i.H=f,"(\\d{2})";case"h":return i.h=f,"(\\d{1,2})";case"hh":return i.h=f,"(\\d{2})";case"m":return i.m=f,"(\\d{1,2})";case"mm":return i.m=f,"(\\d{2})";case"s":return i.s=f,"(\\d{1,2})";case"ss":return i.s=f,"(\\d{2})";case"S":return i.S=f,"(\\d{1})";case"SS":return i.S=f,"(\\d{2})";case"SSS":return i.S=f,"(\\d{3})";case"A":return i.A=f,"(AM|PM)";case"a":return i.a=f,"(am|pm)";case"aa":return i.aa=f,"(a\\.m\\.|p\\.m\\.)";case"ddd":return l;case"dddd":return s;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return i.Z=f,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return i.ZZ=f,"(Z|[+-]\\d{2}\\d{2})";case"X":return i.X=f,"(-?\\d+)";case"x":return i.x=f,"(-?\\d{4,})";default:return f--,h[0]==="["&&(h=h.substring(1,h.length-1)),h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),c={map:i,regex:new RegExp("^"+k)};return he[n]=c,c}function Xe(e,t){return e!==void 0?e:t!==void 0?t.date:Mt.date}function Fe(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),l=Math.floor(n/60),a=n%60;return s+I(l)+t+I(a)}function Xt(e,t,s){let n=e.getFullYear(),l=e.getMonth();const a=e.getDate();return t.year!==void 0&&(n+=s*t.year,delete t.year),t.month!==void 0&&(l+=s*t.month,delete t.month),e.setDate(1),e.setMonth(2),e.setFullYear(n),e.setMonth(l),e.setDate(Math.min(a,xe(e))),t.date!==void 0&&(e.setDate(e.getDate()+s*t.date),delete t.date),e}function Gt(e,t,s){const n=t.year!==void 0?t.year:e[`get${s}FullYear`](),l=t.month!==void 0?t.month-1:e[`get${s}Month`](),a=new Date(n,l+1,0).getDate(),v=Math.min(a,t.date!==void 0?t.date:e[`get${s}Date`]());return e[`set${s}Date`](1),e[`set${s}Month`](2),e[`set${s}FullYear`](n),e[`set${s}Month`](l),e[`set${s}Date`](v),delete t.year,delete t.month,delete t.date,e}function Ie(e,t,s){const n=Ge(t),l=new Date(e),a=n.year!==void 0||n.month!==void 0||n.date!==void 0?Xt(l,n,s):l;for(const v in n){const i=bt(v);a[`set${i}`](a[`get${i}`]()+s*n[v])}return a}function Ge(e){const t={...e};return e.years!==void 0&&(t.year=e.years,delete t.years),e.months!==void 0&&(t.month=e.months,delete t.months),e.days!==void 0&&(t.date=e.days,delete t.days),e.day!==void 0&&(t.date=e.day,delete t.day),e.hour!==void 0&&(t.hours=e.hour,delete t.hour),e.minute!==void 0&&(t.minutes=e.minute,delete t.minute),e.second!==void 0&&(t.seconds=e.second,delete t.second),e.millisecond!==void 0&&(t.milliseconds=e.millisecond,delete t.millisecond),t}function Je(e,t,s){const n=Ge(t),l=s===!0?"UTC":"",a=new Date(e),v=n.year!==void 0||n.month!==void 0||n.date!==void 0?Gt(a,n,l):a;for(const i in n){const f=i.charAt(0).toUpperCase()+i.slice(1);v[`set${l}${f}`](n[i])}return v}function Jt(e,t,s){const n=Wt(e,t,s),l=new Date(n.year,n.month===null?null:n.month-1,n.day===null?1:n.day,n.hour,n.minute,n.second,n.millisecond),a=l.getTimezoneOffset();return n.timezoneOffset===null||n.timezoneOffset===a?l:Ie(l,{minutes:n.timezoneOffset-a},1)}function Wt(e,t,s,n,l){const a={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(l!==void 0&&Object.assign(a,l),e==null||e===""||typeof e!="string")return a;t===void 0&&(t=Ke);const v=Xe(s,Ue.props),i=v.months,f=v.monthsShort,{regex:k,map:c}=Kt(t,v),h=e.match(k);if(h===null)return a;let r="";if(c.X!==void 0||c.x!==void 0){const M=parseInt(h[c.X!==void 0?c.X:c.x],10);if(isNaN(M)===!0||M<0)return a;const $=new Date(M*(c.X!==void 0?1e3:1));a.year=$.getFullYear(),a.month=$.getMonth()+1,a.day=$.getDate(),a.hour=$.getHours(),a.minute=$.getMinutes(),a.second=$.getSeconds(),a.millisecond=$.getMilliseconds()}else{if(c.YYYY!==void 0)a.year=parseInt(h[c.YYYY],10);else if(c.YY!==void 0){const M=parseInt(h[c.YY],10);a.year=M<0?M:2e3+M}if(c.M!==void 0){if(a.month=parseInt(h[c.M],10),a.month<1||a.month>12)return a}else c.MMM!==void 0?a.month=f.indexOf(h[c.MMM])+1:c.MMMM!==void 0&&(a.month=i.indexOf(h[c.MMMM])+1);if(c.D!==void 0){if(a.day=parseInt(h[c.D],10),a.year===null||a.month===null||a.day<1)return a;const M=n!=="persian"?new Date(a.year,a.month,0).getDate():Vt(a.year,a.month);if(a.day>M)return a}c.H!==void 0?a.hour=parseInt(h[c.H],10)%24:c.h!==void 0&&(a.hour=parseInt(h[c.h],10)%12,(c.A&&h[c.A]==="PM"||c.a&&h[c.a]==="pm"||c.aa&&h[c.aa]==="p.m.")&&(a.hour+=12),a.hour=a.hour%24),c.m!==void 0&&(a.minute=parseInt(h[c.m],10)%60),c.s!==void 0&&(a.second=parseInt(h[c.s],10)%60),c.S!==void 0&&(a.millisecond=parseInt(h[c.S],10)*10**(3-h[c.S].length)),(c.Z!==void 0||c.ZZ!==void 0)&&(r=c.Z!==void 0?h[c.Z].replace(":",""):h[c.ZZ],a.timezoneOffset=(r[0]==="+"?-1:1)*(60*r.slice(1,3)+1*r.slice(3,5)))}return a.dateHash=I(a.year,6)+"/"+I(a.month)+"/"+I(a.day),a.timeHash=I(a.hour)+":"+I(a.minute)+":"+I(a.second)+r,a}function en(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function tn(e,t){return Je(new Date,e,t)}function nn(e){const t=new Date(e).getDay();return t===0?7:t}function be(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const s=new Date(t.getFullYear(),0,4);s.setDate(s.getDate()-(s.getDay()+6)%7+3);const n=t.getTimezoneOffset()-s.getTimezoneOffset();t.setHours(t.getHours()-n);const l=(t-s)/(Re*7);return 1+Math.floor(l)}function an(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function ye(e,t){const s=new Date(e);return t===!0?an(s):s.getTime()}function on(e,t,s,n={}){const l=ye(t,n.onlyDate),a=ye(s,n.onlyDate),v=ye(e,n.onlyDate);return(v>l||n.inclusiveFrom===!0&&v===l)&&(v<a||n.inclusiveTo===!0&&v===a)}function sn(e,t){return Ie(e,t,1)}function ln(e,t){return Ie(e,t,-1)}function P(e,t,s){const n=new Date(e),l=`set${s===!0?"UTC":""}`;switch(t){case"year":case"years":n[`${l}Month`](0);case"month":case"months":n[`${l}Date`](1);case"day":case"days":case"date":n[`${l}Hours`](0);case"hour":case"hours":n[`${l}Minutes`](0);case"minute":case"minutes":n[`${l}Seconds`](0);case"second":case"seconds":n[`${l}Milliseconds`](0)}return n}function rn(e,t,s){const n=new Date(e),l=`set${s===!0?"UTC":""}`;switch(t){case"year":case"years":n[`${l}Month`](11);case"month":case"months":n[`${l}Date`](xe(n));case"day":case"days":case"date":n[`${l}Hours`](23);case"hour":case"hours":n[`${l}Minutes`](59);case"minute":case"minutes":n[`${l}Seconds`](59);case"second":case"seconds":n[`${l}Milliseconds`](999)}return n}function un(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(s=>{t=Math.max(t,new Date(s))}),t}function cn(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(s=>{t=Math.min(t,new Date(s))}),t}function te(e,t,s){return(e.getTime()-e.getTimezoneOffset()*Me-(t.getTime()-t.getTimezoneOffset()*Me))/s}function We(e,t,s="days"){const n=new Date(e),l=new Date(t);switch(s){case"years":case"year":return n.getFullYear()-l.getFullYear();case"months":case"month":return(n.getFullYear()-l.getFullYear())*12+n.getMonth()-l.getMonth();case"days":case"day":case"date":return te(P(n,"day"),P(l,"day"),Re);case"hours":case"hour":return te(P(n,"hour"),P(l,"hour"),Ut);case"minutes":case"minute":return te(P(n,"minute"),P(l,"minute"),Me);case"seconds":case"second":return te(P(n,"second"),P(l,"second"),1e3)}}function we(e){return We(e,P(e,"year"),"days")+1}function dn(e){return Ze(e)===!0?"date":typeof e=="number"?"number":"string"}function fn(e,t,s){const n=new Date(e);if(t){const l=new Date(t);if(n<l)return l}if(s){const l=new Date(s);if(n>l)return l}return n}function gn(e,t,s){const n=new Date(e),l=new Date(t);if(s===void 0)return n.getTime()===l.getTime();switch(s){case"second":case"seconds":if(n.getSeconds()!==l.getSeconds())return!1;case"minute":case"minutes":if(n.getMinutes()!==l.getMinutes())return!1;case"hour":case"hours":if(n.getHours()!==l.getHours())return!1;case"day":case"days":case"date":if(n.getDate()!==l.getDate())return!1;case"month":case"months":if(n.getMonth()!==l.getMonth())return!1;case"year":case"years":if(n.getFullYear()!==l.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${s}`)}return!0}function xe(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function Pe(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Ae={YY(e,t,s){const n=this.YYYY(e,t,s)%100;return n>=0?I(n):"-"+I(Math.abs(n))},YYYY(e,t,s){return s!=null?s:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return I(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Pe(this.Q(e))},D(e){return e.getDate()},Do(e){return Pe(e.getDate())},DD(e){return I(e.getDate())},DDD(e){return we(e)},DDDD(e){return I(we(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return be(e)},ww(e){return I(be(e))},H(e){return e.getHours()},HH(e){return I(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return I(this.h(e))},m(e){return e.getMinutes()},mm(e){return I(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return I(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return I(Math.floor(e.getMilliseconds()/10))},SSS(e){return I(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,s,n){const l=n==null?e.getTimezoneOffset():n;return Fe(l,":")},ZZ(e,t,s,n){const l=n==null?e.getTimezoneOffset():n;return Fe(l)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function mn(e,t,s,n,l){if(e!==0&&!e||e===1/0||e===-1/0)return;const a=new Date(e);if(isNaN(a))return;t===void 0&&(t=Ke);const v=Xe(s,Ue.props);return t.replace(Zt,(i,f)=>i in Ae?Ae[i](a,v,n,l):f===void 0?i:f.split("\\]").join("]"))}function hn(e){return Ze(e)===!0?new Date(e.getTime()):e}var ze={isValid:en,extractDate:Jt,buildDate:tn,getDayOfWeek:nn,getWeekOfYear:be,isBetweenDates:on,addToDate:sn,subtractFromDate:ln,adjustDate:Je,startOfDate:P,endOfDate:rn,getMaxDate:un,getMinDate:cn,getDateDiff:We,getDayOfYear:we,inferDateFormat:dn,getDateBetween:fn,isSameDate:gn,daysInMonth:xe,formatDate:mn,clone:hn};const yn=e=>(e.indexOf("{{")>=0&&(e=e.split("{{")[1]),e.indexOf("}}")>=0&&(e=e.split("}}")[0]),e),vn=e=>(e.indexOf("\u300A")>=0&&(e=e.split("\u300A")[1]),e.indexOf("\u300B")>=0&&(e=e.split("\u300B")[0]),e),zn=e=>e?e.indexOf("-")==0?e=e.substring(1):e.substring(0,10):"",Bn=e=>e?(e.lastIndexOf("]")>=0&&(e=e.substring(e.lastIndexOf("]")+1)),e.indexOf("{{")>=0&&(e=e.replace(`{{${yn(e)}}}`,"")),e.indexOf("\u300A")>=0&&(e=e.replace(`\u300A${vn(e)}\u300B`,"")),e):"",Se=[{label:"\u9A91\u5175",value:"\u9A91\u5175"},{label:"\u6B65\u5175",value:"\u6B65\u5175"},{label:"\u56FD\u4EA7",value:"\u56FD\u4EA7"},{label:"\u6D0B\u9A6C",value:"\u65AF\u5DF4\u8FBE"},{label:"\u6F2B\u52A8",value:"\u6F2B\u52A8"}],pn=[{label:"\u5168\u90E8",value:""},...Se,{label:"\u65E0",value:"\u65E0"}],Be=[{label:"\u6B63",value:"asc"},{label:"\u5012",value:"desc"}],Qe=[{label:"\u65F6",value:"MTime"},{label:"\u5BB9",value:"Size"},{label:"\u540D",value:"Code"}],ne=(e,t)=>{if(t&&t.length>0){let s="";return t.forEach(n=>{n.value===e&&(s=n.label)}),s}else return e};const Dn={class:"q-mr-sm q-mb-sm row justify-left"},Mn={class:"q-mr-sm row justify-left"},bn={style:{width:"300px"}},wn={class:"q-gutter-sm q-mt-sm"},Sn={style:{display:"flex","flex-direction":"column"}},In={key:0,style:{color:"red"}},xn={style:{display:"flex","flex-direction":"row"}},kn={key:0,style:{display:"flex","flex-direction":"row","align-items":"center","background-color":"antiquewhite","border-radius":"12px",padding:"4px"}},Tn={style:{"max-height":"20vh",overflow:"auto"}},_n={class:"row justify-center q-gutter-sm"},Cn={class:"row justify-center q-gutter-sm"},Qn={__name:"ListEdit",emits:[...$e.emits],setup(e,{expose:t}){const{resolve:s}=wt(),n=Tt(),l=g=>{const u=s({path:"/search",query:{...g}}).href;window.location.href=u,window.location.reload()},a=Pt(),v=O(()=>a.getHistory),i=O(()=>a.getHistoryMap),f=O(()=>n.platform.is.mobile),k=ve("filelist");let c;ae(()=>k.value,g=>{console.log(g),g==="tasking"?(h(),c=setInterval(h,2e3)):clearInterval(c)});const h=async()=>{const g=await Yt();r.tasking=g.Data},r=_e({selectAll:!1,settingInfo:{},resultData:{},queryParam:{},selector:[],callback:null,cutListIds:[],tasking:{}}),M=_e({sH:"00",sM:"00",sS:"00",eH:"99",eM:"00",eS:"00"}),$=g=>{r.cutListIds.indexOf(g.Id)<0&&r.cutListIds.push(g.Id),H($t(g.Id))},D=g=>{r.cutListIds.indexOf(g.Id)<0&&r.cutListIds.push(g.Id),H(qt(g.Id,[M.sH,M.sM,M.sS].join(":"),[M.eH,M.eM,M.eS].join(":")))},q=()=>{r.selectAll=!r.selectAll,r.selectAll?r.selector=r.resultData.Data.map(g=>g.Id):r.selector=[]},L=g=>{r.selector&&r.selector.length>0&&r.selector.forEach(u=>{H(qe(u,g))})},E=()=>{r.selector&&r.selector.length>0&&r.selector.forEach(g=>{H(He(g))})},se=g=>{r.selector&&r.selector.length>0&&r.selector.forEach(u=>{H(Ht(u,g))})},le=async()=>{await Ot(),await Q()},j=g=>{r.queryParam.Page=r.queryParam.Page+g,Q()},Q=async()=>{const g=await Lt(r.queryParam);r.resultData=g},H=async g=>{const{Code:u,Message:o}=await g;console.log(u,o),u!=200?n.notify({message:`${o}`}):n.notify({message:`${o}`})},K=g=>{const{queryParam:u,settingInfo:o,cb:m,tabName:U}=g;U&&(k.value=U),u?(r.queryParam=u,r.queryParam.PageSize=10):r.queryParam=a.getSearchParam,o?r.settingInfo=o:r.settingInfo=a.getSettingInfo,r.callback=m,G.value.show(),Q()},re=async()=>{r.callback&&r.callback({settingInfo:r.settingInfo}),de(),ce(),ue(),console.log("dialogHide")},ie=g=>{n.dialog({title:g.Name,message:"\u786E\u5B9A\u5220\u9664\u5417?",cancel:!0,persistent:!0}).onOk(()=>{console.log(">>>> onOk"),H(He(g.Id)).then(()=>{for(let u=0;u<r.resultData.Data.length;u++)r.resultData.Data[u].Id==g.Id&&r.resultData.Data.splice(u,1)})}).onCancel(()=>{console.log(">>>> Cancel")}).onDismiss(()=>{})},X=async g=>{const u=await Et({...g,NoRefresh:!0,MoveOut:!0});if(console.log(u),u.Code==200){for(let o=0;o<r.resultData.Data.length;o++)r.resultData.Data[o].Id==g.Id&&r.resultData.Data.splice(o,1);n.notify({type:"negative",message:u.Message})}else n.notify({type:"negative",message:u.Message})},{dialogRef:G,onDialogHide:ue,onDialogOK:ce,onDialogCancel:de}=$e(),fe=()=>{r.callback&&(Ft(r.settingInfo),r.callback({settingInfo:r.settingInfo}))},p=()=>{console.log("beforeShow")};return t({open:K}),(g,u)=>(w(),F(St,{ref_key:"dialogRef",ref:G,onHide:re,onBeforeShow:p},{default:y(()=>[d(Ye,{class:xt({"card-q":!f.value,"card-q-mobile":f.value})},{default:y(()=>[d(et,{alert:"",ripple:"",modelValue:k.value,"onUpdate:modelValue":u[0]||(u[0]=o=>k.value=o),style:{"background-color":"rgba(0, 0, 0, 0.2)"},align:"justify","narrow-indicator":""},{default:y(()=>[d(J,{name:"filelist",label:"\u6279\u91CF\u64CD\u4F5C"}),d(J,{name:"setting",label:"\u8BBE\u7F6E"}),d(J,{name:"tasking",label:"\u4EFB\u52A1\u6267\u884C"}),d(J,{name:"history",label:"\u6700\u8FD1\u6D4F\u89C8"})]),_:1},8,["modelValue"]),d(tt,{modelValue:k.value,"onUpdate:modelValue":u[15]||(u[15]=o=>k.value=o),animated:"",style:{height:"100%",overflow:"auto"}},{default:y(()=>[d(W,{name:"filelist"},{default:y(()=>[S("div",Dn,[d(ot,{outline:"",modelValue:r.queryParam.MovieType,"onUpdate:modelValue":[u[1]||(u[1]=o=>r.queryParam.MovieType=o),u[2]||(u[2]=o=>Q())],"toggle-color":"primary",options:T(pn)},null,8,["modelValue","options"]),r.queryParam.Page!=1?(w(),F(x,{key:0,class:"q-ml-sm",size:"sm",color:"primary",onClick:u[3]||(u[3]=o=>j(-1))},{default:y(()=>[C("\u4E0A ")]),_:1})):Z("",!0),d(x,{class:"q-ml-sm",size:"sm",color:"primary",onClick:u[4]||(u[4]=o=>j(1))},{default:y(()=>[C("\u4E0B")]),_:1})]),S("div",Mn,[d(x,{class:"q-mr-sm",color:"amber",outline:"",size:"sm",glossy:"","text-color":"black",onClick:q},{default:y(()=>[C(b(r.selectAll?"\u4E0D\u9009":"\u5168\u9009"),1)]),_:1}),d(V,{label:"...",modelValue:r.queryParam.Keyword,"onUpdate:modelValue":[u[5]||(u[5]=o=>r.queryParam.Keyword=o),u[6]||(u[6]=o=>Q())],dense:!0,filled:"",clearable:""},null,8,["modelValue"]),d(x,{class:"q-mr-sm",size:"sm",color:"blue-6",icon:"refresh",onClick:le},{default:y(()=>[C("\u5237\u65B0")]),_:1}),d(ge,{class:"q-mr-sm",size:"sm",label:"\u8BBE\u7F6E",type:"primary",color:"teal",icon:"ti-settings"},{default:y(()=>[d(me,null,{default:y(()=>[(w(!0),Y(z,null,A(T(Se),o=>oe((w(),F(De,{key:o.value,class:"movieTypeSelectItem"},{default:y(()=>[d(B,{onClick:m=>L(o.value)},{default:y(()=>[d(R,null,{default:y(()=>[C(b(o.label),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024)),[[Le]])),128))]),_:1})]),_:1}),d(ge,{class:"q-mr-sm",size:"sm",label:"\u6807\u7B7E",type:"primary",color:"teal",icon:"ti-plus"},{default:y(()=>[S("div",bn,[(w(!0),Y(z,null,A(r.settingInfo.Tags,o=>(w(),F(x,{size:"sm",icon:"ti-plus",square:"","text-color":"white",color:"red",class:"tag-item",key:o,label:o,onClick:m=>se(o)},null,8,["label","onClick"]))),128))])]),_:1}),d(x,{outline:"",class:"q-mr-sm",size:"sm",color:"red",icon:"delete",onClick:E},{default:y(()=>[C("\u5220\u9664")]),_:1})]),S("div",wn,[(w(!0),Y(z,null,A(r.resultData.Data,o=>(w(),Y("div",{key:o.Id,style:{border:"1px dotted purple",padding:"2px","border-radius":"4px","background-color":"rgba(0, 0, 0, 0.1)"}},[S("div",Sn,[d(R,null,{default:y(()=>[r.cutListIds.indexOf(o.Id)>=0?(w(),Y("span",In,"\u526A\u5207\u4E2D\uFF1A\uFF1A")):Z("",!0),C(b(o.Title)+"\u3010"+b(o.SizeStr)+"\u3011 ",1)]),_:2},1024),oe((w(),Y("div",xn,[d(Ce,{size:"sm",modelValue:r.selector,"onUpdate:modelValue":u[7]||(u[7]=m=>r.selector=m),val:o.Id,color:"red"},null,8,["modelValue","val"]),d(ge,{class:"q-mr-sm",size:"sm",label:o.MovieType,type:"primary",color:"blue-6"},{default:y(()=>[d(me,null,{default:y(()=>[(w(!0),Y(z,null,A(T(Se),m=>oe((w(),F(De,{key:m.value,class:"movieTypeSelectItem"},{default:y(()=>[d(B,null,{default:y(()=>[d(R,{onClick:U=>{o.MovieType=m.value,H(T(qe)(o.Id,m.value))}},{default:y(()=>[C(b(m.label),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)),[[Le]])),128))]),_:2},1024)]),_:2},1032,["label"]),d(x,{outline:"",size:"sm",class:"q-mr-sm",color:"amber",glossy:"","text-color":"black",icon:"delete",onClick:m=>ie(o)},null,8,["onClick"]),d(x,{outline:"",size:"sm",class:"q-mr-sm",onClick:m=>X(o),icon:"near_me"},null,8,["onClick"]),d(x,{outline:"",class:"q-mr-sm",size:"sm",icon:"open_in_new",onClick:m=>H(g.OpenFileFolder(o.Id))},null,8,["onClick"]),d(x,{outline:"",size:"sm",class:"q-mr-sm",icon:"ti-pencil-alt2",onClick:m=>o.showCut=!0},null,8,["onClick"]),d(x,{outline:"",size:"sm",class:"q-mr-sm",color:"green",onClick:m=>$(o)},{default:y(()=>[C("toMp4")]),_:2},1032,["onClick"]),!o.MovieType||o.MovieType=="\u65E0"?(w(),F(x,{key:0,outline:"",class:"q-mr-sm",size:"sm",color:"brown-5",icon:"wifi_protected_setup",onClick:m=>H(T(_t)(o.Id))},null,8,["onClick"])):Z("",!0),(w(!0),Y(z,null,A(o.Tags,m=>(w(),F(x,{color:"red",key:m,onClick:U=>H(T(Ct)(o.Id,m),!0)},{default:y(()=>[C(b(`- ${m}`),1)]),_:2},1032,["onClick"]))),128))])),[[kt]]),o.showCut?(w(),Y("div",kn,[C(" \u5F00\u59CB\uFF1A "),d(V,{style:{width:"40px"},"model-value":M.sH,"onUpdate:modelValue":u[8]||(u[8]=m=>M.sH=m)},null,8,["model-value"]),d(V,{style:{width:"40px"},"model-value":M.sM,"onUpdate:modelValue":u[9]||(u[9]=m=>M.sM=m)},null,8,["model-value"]),d(V,{style:{width:"40px"},"model-value":M.sS,"onUpdate:modelValue":u[10]||(u[10]=m=>M.sS=m)},null,8,["model-value"]),C(" \u7ED3\u675F\uFF1A "),d(V,{style:{width:"40px"},"model-value":M.eH,"onUpdate:modelValue":u[11]||(u[11]=m=>M.eH=m)},null,8,["model-value"]),d(V,{style:{width:"40px"},"model-value":M.eM,"onUpdate:modelValue":u[12]||(u[12]=m=>M.eM=m)},null,8,["model-value"]),d(V,{style:{width:"40px"},"model-value":M.eS,"onUpdate:modelValue":u[13]||(u[13]=m=>M.eS=m)},null,8,["model-value"]),d(x,{size:"sm",color:"black",type:"primary",onClick:m=>{D(o),o.showCut=!1},label:"\u786E\u8BA4"},null,8,["onClick"]),d(x,{size:"sm",color:"blue",onClick:m=>o.showCut=!1,label:"\u53D6\u6D88"},null,8,["onClick"])])):Z("",!0)])]))),128))])]),_:1}),d(W,{name:"setting"},{default:y(()=>[d(nt,{color:"purple-12",label:"Buttons\uFF08\u6700\u4F735\uFF09","stack-label":""},{prepend:y(()=>[d(pe,{name:"event"})]),control:y(()=>[(w(!0),Y(z,null,A(T(at),o=>(w(),F(Ce,{modelValue:r.settingInfo.Buttons,"onUpdate:modelValue":[u[14]||(u[14]=m=>r.settingInfo.Buttons=m),fe],key:o,val:o,label:o,color:"teal"},null,8,["modelValue","val","label"]))),128))]),_:1})]),_:1}),d(W,{name:"tasking"},{default:y(()=>[d(me,{bordered:"",separator:""},{default:y(()=>[(w(!0),Y(z,null,A(r.tasking,(o,m)=>(w(),F(Bt,{key:m},{header:y(()=>[d(B,{avatar:""},{default:y(()=>[d(x,{color:"blue",class:"q-mr-sm"},{default:y(()=>[C(b(o.Type),1)]),_:2},1024),C(" "+b(` \u683C\u5F0F\uFF1A${o.To} `),1)]),_:2},1024),d(B,null,{default:y(()=>[S("div",null,b(o.Name),1),S("div",null,b(`\u5F00\u59CB\u65F6\u95F4\uFF1A${o.Start} `)+" "+b(` \u7ED3\u675F\u65F6\u95F4\uFF1A${o.End} `),1),S("div",null,b(`\u8017\u65F6\uFF1A${((o.FinishTime?new Date(o.FinishTime):new Date).getTime()-new Date(o.CreateTime).getTime())/1e3}`),1)]),_:2},1024),d(B,{side:""},{default:y(()=>[d(x,{class:"q-mr-sm",color:o.Status=="\u6210\u529F"?"green":"black"},{default:y(()=>[C(b(o.Status),1)]),_:2},1032,["color"])]),_:2},1024)]),default:y(()=>[d(Ye,null,{default:y(()=>[d(It,null,{default:y(()=>[S("div",Tn,b(o.Log),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),d(W,{name:"history"},{default:y(()=>[(w(!0),Y(z,null,A(v.value,o=>(w(),Y("div",{key:o},[d(x,{flat:"",outline:"",noCaps:"",align:"left",style:{width:"100%"},ripple:"",size:"sm",color:"primary",onClick:m=>l(o)},{default:y(()=>[S("div",_n,[S("span",null,b(o.MovieType),1),S("span",null,b(`\u7B2C${o.Page}\u9875\uFF0C\u5206${o.PageSize}\u9875`),1),S("span",null,b(` ${T(ne)(o.SortField,T(Qe))}/${T(ne)(o.SortType,T(Be))}`),1),S("span",null,b(o.Keyword?`\u641C\uFF1A${o.Keyword} `:" "),1),S("span",null,b(T(ze).formatDate(o.MTime,"YYYY-MM-DD HH:mm:ss")),1)])]),_:2},1032,["onClick"])]))),128)),(w(!0),Y(z,null,A(i.value,(o,m)=>(w(),Y("div",{key:o},[m&&m!="null"?(w(),F(x,{key:0,flat:"",align:"left",ripple:"",size:"sm",color:"primary",onClick:U=>l(o)},{default:y(()=>[S("div",Cn,[S("span",null,b(m),1),S("span",null,b(o.MovieType),1),S("span",null,b(`\u7B2C${o.Page}\u9875\uFF0C\u5206${o.PageSize}\u9875`),1),S("span",null,b(T(ne)(o.SortField,T(Qe)))+" /"+b(T(ne)(o.SortType,T(Be))),1),S("span",null,b(o.Keyword?`\u641C\uFF1A${o.Keyword} `:" "),1),S("span",null,b(T(ze).formatDate(o.MTime,"YYYY-MM-DD HH:mm:ss")),1)])]),_:2},1032,["onClick"])):Z("",!0)]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["class"])]),_:1},512))}};export{Le as C,Be as D,Qe as F,Se as M,Qn as _,Bn as a,pn as b,zn as f,ne as g};
