import{E as R,P as G,bA as H,R as U,u as n,r as O,Y as W,v as Y,bB as N,bC as J,aw as X,G as S,l as Z,N as E,p}from"./index.6cbd7867.js";function k(e,r){return[!0,!1].includes(e)?e:r}var ne=R({name:"QPagination",props:{...G,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||H.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:r}){const{proxy:s}=E(),{$q:d}=s,g=U(e,d),i=n(()=>parseInt(e.min,10)),l=n(()=>parseInt(e.max,10)),h=n(()=>parseInt(e.maxPages,10)),V=n(()=>v.value+" / "+l.value),$=n(()=>k(e.boundaryLinks,e.input)),b=n(()=>k(e.boundaryNumbers,!e.input)),q=n(()=>k(e.directionLinks,e.input)),B=n(()=>k(e.ellipses,!e.input)),x=O(null),v=n({get:()=>e.modelValue,set:t=>{if(t=parseInt(t,10),e.disable||isNaN(t))return;const a=W(t,i.value,l.value);e.modelValue!==a&&r("update:modelValue",a)}});Y(()=>`${i.value}|${l.value}`,()=>{v.value=e.modelValue});const L=n(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),C=n(()=>e.gutter in N?`${N[e.gutter]}px`:e.gutter||null),T=n(()=>C.value!==null?`--q-pagination-gutter-parent:-${C.value};--q-pagination-gutter-child:${C.value}`:null),P=n(()=>{const t=[e.iconFirst||d.iconSet.pagination.first,e.iconPrev||d.iconSet.pagination.prev,e.iconNext||d.iconSet.pagination.next,e.iconLast||d.iconSet.pagination.last];return d.lang.rtl===!0?t.reverse():t}),I=n(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),D=n(()=>J(e,"flat")),Q=n(()=>({[D.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),A=n(()=>{const t={[D.value]:!1};return e.activeDesign!==""&&(t[e.activeDesign]=!0),t}),_=n(()=>({...A.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),m=n(()=>{let t=Math.max(h.value,1+(B.value?2:0)+(b.value?2:0));const a={pgFrom:i.value,pgTo:l.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(l.value).length)}em`}};return h.value&&t<l.value-i.value+1&&(t=1+Math.floor(t/2)*2,a.pgFrom=Math.max(i.value,Math.min(l.value-t+1,e.modelValue-Math.floor(t/2))),a.pgTo=Math.min(l.value,a.pgFrom+t-1),b.value&&(a.boundaryStart=!0,a.pgFrom++),B.value&&a.pgFrom>i.value+(b.value?1:0)&&(a.ellipsesStart=!0,a.pgFrom++),b.value&&(a.boundaryEnd=!0,a.pgTo--),B.value&&a.pgTo<l.value-(b.value?1:0)&&(a.ellipsesEnd=!0,a.pgTo--)),a});function F(t){v.value=t}function z(t){v.value=v.value+t}const K=n(()=>{function t(){v.value=x.value,x.value=null}return{"onUpdate:modelValue":a=>{x.value=a},onKeyup:a=>{X(a,13)===!0&&t()},onBlur:t}});function o(t,a,f){const c={"aria-label":a,"aria-current":"false",...Q.value,...t};return f===!0&&Object.assign(c,{"aria-current":"true",..._.value}),a!==void 0&&(e.toFn!==void 0?c.to=e.toFn(a):c.onClick=()=>{F(a)}),S(p,c)}return Object.assign(s,{set:F,setByOffset:z}),()=>{const t=[],a=[];let f;if($.value===!0&&(t.push(o({key:"bls",disable:e.disable||e.modelValue<=i.value,icon:P.value[0]},i.value)),a.unshift(o({key:"ble",disable:e.disable||e.modelValue>=l.value,icon:P.value[3]},l.value))),q.value===!0&&(t.push(o({key:"bdp",disable:e.disable||e.modelValue<=i.value,icon:P.value[1]},e.modelValue-1)),a.unshift(o({key:"bdn",disable:e.disable||e.modelValue>=l.value,icon:P.value[2]},e.modelValue+1))),e.input!==!0){f=[];const{pgFrom:c,pgTo:w,marginalStyle:y}=m.value;if(m.value.boundaryStart===!0){const u=i.value===e.modelValue;t.push(o({key:"bns",style:y,disable:e.disable,label:i.value},i.value,u))}if(m.value.boundaryEnd===!0){const u=l.value===e.modelValue;a.unshift(o({key:"bne",style:y,disable:e.disable,label:l.value},l.value,u))}m.value.ellipsesStart===!0&&t.push(o({key:"bes",style:y,disable:e.disable,label:"\u2026",ripple:!1},c-1)),m.value.ellipsesEnd===!0&&a.unshift(o({key:"bee",style:y,disable:e.disable,label:"\u2026",ripple:!1},w+1));for(let u=c;u<=w;u++)f.push(o({key:`bpg${u}`,style:y,disable:e.disable,label:u},u,u===e.modelValue))}return S("div",{class:L.value,...I.value},[S("div",{class:"q-pagination__content row no-wrap items-center",style:T.value},[...t,e.input===!0?S(Z,{class:"inline",style:{width:`${V.value.length/1.5}em`},type:"number",dense:!0,value:x.value,disable:e.disable,dark:g.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:V.value,min:i.value,max:l.value,...K.value}):S("div",{class:"q-pagination__middle row justify-center"},f),...a])])}}});const ee=()=>!0;function te(e){const r={};return e.forEach(s=>{r[s]=ee}),r}function j(){const{emit:e,proxy:r}=E(),s=O(null);function d(){s.value.show()}function g(){s.value.hide()}function i(h){e("ok",h),g()}function l(){e("hide")}return Object.assign(r,{show:d,hide:g}),{dialogRef:s,onDialogHide:l,onDialogOK:i,onDialogCancel:g}}const M=["ok","hide"];j.emits=M;j.emitsObject=te(M);export{ne as Q,j as u};
