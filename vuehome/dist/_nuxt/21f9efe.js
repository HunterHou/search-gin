(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{573:function(t,e,n){"use strict";e.a={mounted:function(){var path=this.$route.path;this.$store.commit("setStorePath",path)}}},579:function(t,e,n){var content=n(613);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(55).default)("218d6cea",content,!0,{sourceMap:!1})},612:function(t,e,n){"use strict";n(579)},613:function(t,e,n){var l=n(54)(!1);l.push([t.i,".d-li{overflow:inherit;display:block;float:left}.d-tag{margin:5px 0;padding:18px}.s-table{width:250px;width:18%}.d-table{margin:0 10px;width:80%;min-width:350px}.e-tag{margin-right:24px;margin-top:12px}",""]),t.exports=l},620:function(t,e,n){"use strict";n.r(e);n(430);var l=n(95),r=n.n(l),o={mixins:[n(573).a],data:function(){return{indexLoading:!1,tableData:[],tagData:[],scanTime:[],refreshIndexFlag:!1}},mounted:function(){document.title="首页"},created:function(){this.loadData()},methods:{folderGotoMenu:function(t){var e={keywords:t,movieType:"",no:1};this.$router.push({path:"/fileList",query:e})},gotoMenu:function(data){var t=data.IsDir,e=data.Name,n={keywords:t?e:"",movieType:t||"全部"==e?"":e,no:1};this.$router.push({path:"/fileList",query:n})},loadData:function(){var t=this;r.a.get("api/typeSizeMap").then((function(e){if(200===e.status){var data=e.data;t.tableData=data}})).then(r.a.get("api/tagSizeMap").then((function(e){if(200===e.status){var data=e.data;t.tagData=data}}))).then(r.a.get("api/scanTime").then((function(e){if(200===e.status){var data=e.data;t.scanTime=data}})))},openThis:function(t,data){var e=this,n=data.Name;r.a.post("api/OpenFolerByPath",{dirpath:n}).then((function(t){200===t.status?e.$message({message:"执行成功",type:"success"}):e.$message({message:"执行失败",type:"fail"})}))},deleteThis:function(t,data){var e=this,n=data.Name;r.a.post("api/DeleteFolerByPath",{dirpath:n}).then((function(n){200===n.status?(e.$message({message:"执行成功",type:"success"}),e.tableData.splice(t,1)):e.$message({message:"执行失败",type:"fail"})}))},refreshIndex:function(){var t=this;this.indexLoading=!0,r.a.get("api/refreshIndex").then((function(e){200===e.status?(t.indexLoading=!1,t.loadData()):t.$message({message:"执行失败",type:"fail"})}))}}},c=(n(612),n(58)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",{staticStyle:{"margin-top":"0px"},attrs:{align:"center"}},[t._v("\n    掃描结果分析\n    "),n("el-divider",{attrs:{direction:"vertical"}}),t._v(" "),n("el-button",{attrs:{type:"primary",loading:t.indexLoading,size:"small"},on:{click:function(e){return t.refreshIndex()}}},[t._v("重建索引\n    ")])],1),t._v(" "),t.tagData&&t.tagData.length>0?n("div",{staticClass:"d-tag",staticStyle:{background:"white"}},t._l(t.tagData,(function(e){return n("el-link",{key:e.Name,staticClass:"e-tag",attrs:{underline:!1}},[n("el-tag",{staticStyle:{"font-size":"12px"},attrs:{size:"large",value:e.Cnt},on:{click:function(n){return t.gotoMenu(e)}}},[n("el-badge",{attrs:{value:e.Cnt}},[n("span",[n("b",[t._v(t._s(e.Name)+" ("),n("i",[t._v(t._s(e.SizeStr))]),t._v(")\n            ")])])])],1)],1)})),1):t._e(),t._v(" "),t.scanTime&&t.scanTime.length>0?n("li",{staticClass:"s-table d-li"},[n("el-table",{attrs:{data:t.scanTime,align:"center",stripe:!0,border:""}},[n("el-table-column",{attrs:{label:"文件夹","header-align":"left",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{title:e.row.Name},on:{click:function(n){return t.folderGotoMenu(e.row.Name)}}},[t._v("\n            "+t._s(e.row.Name)+"\n          ")])]}}],null,!1,1837558480)}),t._v(" "),n("el-table-column",{attrs:{label:"数量","header-align":"right",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{title:e.row.Size},on:{click:function(n){return t.folderGotoMenu(e.row.Size)}}},[t._v("\n            "+t._s(e.row.Size)+"\n          ")])]}}],null,!1,1445397778)}),t._v(" "),n("el-table-column",{attrs:{label:"耗时",width:"80px","header-align":"right",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{title:e.row.Cnt},on:{click:function(n){return t.folderGotoMenu(e.row.Name)}}},[t._v("\n            "+t._s(e.row.Cnt)+" ms\n          ")])]}}],null,!1,4291229294)})],1)],1):t._e(),t._v(" "),n("li",{staticClass:"d-table d-li"},[n("el-table",{staticStyle:{margin:"20px auto"},attrs:{data:t.tableData,align:"center",stripe:!0,border:""}},[n("el-table-column",{attrs:{label:"结果集","header-align":"left","min-width":"250px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{title:e.row.Name},on:{click:function(n){return t.gotoMenu(e.row)}}},[t._v("\n            "+t._s(e.row.Name)+"\n          ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"大小","header-align":"right",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{title:e.row.Name},on:{click:function(n){return t.gotoMenu(e.row)}}},[t._v("\n            "+t._s(e.row.SizeStr)+"\n          ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"数量","header-align":"right",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{title:e.row.Name},on:{click:function(n){return t.gotoMenu(e.row)}}},[t._v("\n            "+t._s(e.row.Cnt)+"\n          ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"Name",label:"操作","header-align":"left",align:"left"},on:{click:function(e){return t.openThis(t.Name)}},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.IsDir?t._e():n("el-button",{attrs:{type:"success"},on:{click:function(n){return t.gotoMenu(e.row)}}},[t._v("前往\n          ")]),t._v(" "),e.row.IsDir?n("el-button",{attrs:{size:"small",type:"info"},on:{click:function(n){return t.openThis(e.$index,e.row)}}},[t._v("打开")]):t._e(),t._v(" "),e.row.IsDir?n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){return t.deleteThis(e.$index,e.row)}}},[t._v("删除")]):t._e()]}}])})],1)],1)])}),[],!1,null,null,null);e.default=component.exports}}]);