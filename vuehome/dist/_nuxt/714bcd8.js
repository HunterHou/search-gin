(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{573:function(e,t,l){"use strict";t.a={mounted:function(){var path=this.$route.path;this.$store.commit("setStorePath",path)}}},580:function(e,t,l){var content=l(615);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(55).default)("4a4ea9b4",content,!0,{sourceMap:!1})},614:function(e,t,l){"use strict";l(580)},615:function(e,t,l){var r=l(54)(!1);r.push([e.i,".return[data-v-03693259]{left:40%}.return[data-v-03693259],.submit[data-v-03693259]{width:9%;position:fixed;bottom:10px;overflow:auto;z-index:999}.submit[data-v-03693259]{right:40%}.el-transfer[data-v-03693259]{margin-left:120px;text-align:left}",""]),e.exports=r},621:function(e,t,l){"use strict";l.r(t);l(67),l(56),l(66),l(26),l(93),l(57),l(94);var r=l(44),n=(l(430),l(95)),o=l.n(n),c=l(573),f=l(284);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(object);e&&(l=l.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,l)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={mixins:[c.a],data:function(){return{loadingDate:new Date,extensions:[new f.c,new f.k,new f.i,new f.e({level:5}),new f.a({bubble:!0}),new f.l({bubble:!0,menubar:!1}),new f.f,new f.j,new f.g,new f.b,new f.h],inputVisible:!1,inputValue:"",activeName:"first",inputVisibleFile:!1,inputValueFile:"",tagTitles:["标签库","已选"],checkAll:!1,isIndeterminateDir:!0,popTagLibData:[],form:{BaseUrl:"",OMUrl:"",Remark:"",SystemInfo:"",ImageTypes:[],DocsTypes:[],VideoTypes:[],Types:[],Dirs:[],DirsLib:[],Tags:[],TagsLib:[],tagLibData:[]}}},mounted:function(){document.title="設置",this.loadData()},watch:{form:function(a){}},methods:{removeTag:function(e){var t=this.form.Tags.indexOf(e);this.form.Tags.splice(t,1)},handleClick:function(){},handleCheckAllChange:function(e){this.form.Dirs=e?this.form.DirsLib:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.form.Dirs.length,this.isIndeterminate=t>0&&t<this.form.Dirs.length},goMenu:function(){this.$router.push("/fileList")},submitForm:function(){var e=this,t=h(h({},this.form),{},{BaseDir:this.form.Dirs});this.loading=!0,console.log(t),o.a.post("api/setting",t).then((function(t){200===t.status&&(e.$message({message:t.data.Message,type:"success"}),e.$router.go(0))}))},handleClose:function(e){this.form.Types.splice(this.form.Types.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var e=this.inputValue;e&&this.form.Types.push(e),this.inputVisible=!1,this.inputValue=""},handleCloseFile:function(e){this.form.BaseDir.splice(this.form.BaseDir.indexOf(e),1)},showInputFile:function(){var e=this;this.inputVisibleFile=!0,this.$nextTick((function(t){e.$refs.saveTagInputFile.$refs.input.focus()}))},handleInputConfirmFile:function(){var e=this.inputValueFile;e&&this.form.BaseDir.push(e),this.inputVisibleFile=!1,this.inputValueFile=""},makeTabLibData:function(){for(var e=[],t=this.form.TagsLib,i=0;i<t.length;i++)e.push({key:t[i],label:t[i]});this.form.tagLibData=e},loadData:function(){var e=this;o.a.get("api/settingInfo").then((function(t){200==t.status&&(e.form=t.data,e.makeTabLibData())}))}}},v=(l(614),l(58)),component=Object(v.a)(d,(function(){var e=this,t=this,l=t.$createElement,r=t._self._c||l;return r("div",{attrs:{align:"center"}},[r("el-form",{ref:"form",attrs:{"label-width":"160px",model:t.form,"label-position":"right"}},[r("h5",{attrs:{align:"center"}},[t._v(t._s(t.loadingDate))]),t._v(" "),r("div",{staticStyle:{margin:"8px 20px",width:"90%",background:"white","min-height":"650px"}},[r("el-tabs",{attrs:{"tab-position":"top",type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"扫描设置",name:"first"}},[r("el-form-item",{attrs:{label:"图片类型"}},[r("el-select",{staticStyle:{width:"90%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:t.form.ImageTypes,callback:function(e){t.$set(t.form,"ImageTypes",e)},expression:"form.ImageTypes"}},t._l(t.form.Types,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"文档类型"}},[r("el-select",{staticStyle:{width:"90%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:t.form.DocsTypes,callback:function(e){t.$set(t.form,"DocsTypes",e)},expression:"form.DocsTypes"}},t._l(t.form.Types,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"视频类型"}},[r("el-select",{staticStyle:{width:"90%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:t.form.VideoTypes,callback:function(e){t.$set(t.form,"VideoTypes",e)},expression:"form.VideoTypes"}},t._l(t.form.Types,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"热门标签"}},[r("div",{staticStyle:{width:"90%"}},[t._l(t.form.Tags,(function(e){return r("el-tag",{key:e,staticStyle:{"margin-right":"5px"},attrs:{closable:""},on:{close:function(l){return t.removeTag(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])})),t._v(" "),r("el-popover",{attrs:{placement:"left",width:"400px;",trigger:"click"}},[r("el-transfer",{attrs:{titles:t.tagTitles,"target-order":"push",data:t.popTagLibData},model:{value:t.form.Tags,callback:function(e){t.$set(t.form,"Tags",e)},expression:"form.Tags"}}),t._v(" "),r("el-link",{attrs:{slot:"reference",type:"success",icon:"el-icon-edit",round:""},on:{click:function(){t.makeTabLibData(),e.popTagLibData=e.form.tagLibData}},slot:"reference"},[t._v("添加")])],1)],2)]),t._v(" "),r("el-form-item",{attrs:{label:"已选路徑"}},[r("el-checkbox",{attrs:{indeterminate:t.isIndeterminateDir},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),t._v(" "),r("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.form.Dirs,callback:function(e){t.$set(t.form,"Dirs",e)},expression:"form.Dirs"}},t._l(t.form.DirsLib,(function(e){return r("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"备注"}},[r("el-input",{staticStyle:{width:"90%","margin-bottom":"20px"},attrs:{type:"textarea",rows:4},model:{value:t.form.Remark,callback:function(e){t.$set(t.form,"Remark",e)},expression:"form.Remark"}})],1)],1),t._v(" "),r("el-tab-pane",{attrs:{label:"基础配置",name:"second"}},[r("el-form-item",{attrs:{label:"URL"}},[r("el-input",{staticStyle:{width:"90%"},model:{value:t.form.BaseUrl,callback:function(e){t.$set(t.form,"BaseUrl",e)},expression:"form.BaseUrl"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"OM-URL"}},[r("el-input",{staticStyle:{width:"90%"},model:{value:t.form.OMUrl,callback:function(e){t.$set(t.form,"OMUrl",e)},expression:"form.OMUrl"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"枚举文件类型"}},[r("el-select",{staticStyle:{width:"90%"},attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请添加类型"},model:{value:t.form.Types,callback:function(e){t.$set(t.form,"Types",e)},expression:"form.Types"}},t._l(t.form.Types,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"标签库"}},[r("el-select",{staticStyle:{width:"90%"},attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请添加标签"},model:{value:t.form.TagsLib,callback:function(e){t.$set(t.form,"TagsLib",e)},expression:"form.TagsLib"}},t._l(t.form.Tags,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"路徑库"}},[r("el-select",{staticStyle:{width:"90%"},attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请添加路径"},model:{value:t.form.DirsLib,callback:function(e){t.$set(t.form,"DirsLib",e)},expression:"form.DirsLib"}},t._l(t.form.Dirs,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"备注"}},[r("el-input",{staticStyle:{width:"90%","margin-bottom":"20px"},attrs:{type:"textarea",rows:4},model:{value:t.form.Remark,callback:function(e){t.$set(t.form,"Remark",e)},expression:"form.Remark"}})],1)],1),t._v(" "),r("el-tab-pane",{attrs:{label:"系统信息",name:"third"}},[r("el-form-item",{attrs:{label:"系統信息"}},[r("el-tiptap",{attrs:{extensions:t.extensions},model:{value:t.form.SystemInfo,callback:function(e){t.$set(t.form,"SystemInfo",e)},expression:"form.SystemInfo"}})],1)],1)],1)],1),t._v(" "),r("div",[r("el-button",{staticClass:"return",attrs:{type:"warning","align-text":"center"},on:{click:function(e){return t.goMenu()}}},[t._v("返回")])],1),t._v(" "),r("div",[r("el-button",{staticClass:"submit",attrs:{type:"primary","align-text":"center"},on:{click:function(e){return t.submitForm("form")}}},[t._v("提交")])],1)])],1)}),[],!1,null,"03693259",null);t.default=component.exports}}]);